import{j as e}from"./index-222cfb29.js";import{r as s}from"./vendor-a2ff445a.js";import{u as t}from"./index-7d29ff6f.js";import{z as a,b5 as l,ai as r,g as n,aj as d,$ as i}from"./ui-551a39a6.js";import"./supabase-7e851d02.js";import"./routing-a2f0f6d2.js";import"./charts-66cc82bb.js";const o=()=>{const[o,c]=s.useState(null),[m,x]=s.useState(null),[p,u]=s.useState(!1),[g,h]=s.useState(""),b=s.useCallback(e=>{const s=e[0];if(s){h(s.name);const e=new FileReader;e.onload=e=>{var s;c(null==(s=e.target)?void 0:s.result),x(null)},e.readAsDataURL(s),v(s)}},[]),{getRootProps:j,getInputProps:f,isDragActive:N}=t({onDrop:b,accept:{"image/*":[".png",".jpg",".jpeg",".gif",".webp",".bmp"]},maxFiles:1,multiple:!1}),v=async e=>{u(!0);const s=new FormData;s.append("image",e);try{const e=await fetch("http://localhost:5001/api/remove-background",{method:"POST",body:s});if(!e.ok)throw new Error("Failed to process image");const t=await e.blob(),l=URL.createObjectURL(t);x(l),a.success("Background removed successfully!")}catch(t){a.error("Failed to remove background. Make sure the API is running.")}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 p-3 rounded-xl shadow-lg",children:e.jsx(l,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Background Removal Tool"})]}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Upload an image and automatically remove its background in seconds"}),e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2 text-sm text-purple-600 font-medium",children:[e.jsx("span",{className:"bg-purple-100 px-3 py-1 rounded-full",children:"âœ¨ Enhanced Quality Mode"}),e.jsx("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full",children:"ðŸŽ¯ Precision AI"})]})]}),!o&&e.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:e.jsxs("div",{...j(),className:`\n                border-3 border-dashed rounded-2xl p-12 text-center cursor-pointer\n                transition-all duration-300 bg-white shadow-lg hover:shadow-xl\n                ${N?"border-purple-500 bg-purple-50 scale-105":"border-gray-300 hover:border-purple-400 hover:bg-purple-50/50"}\n              `,children:[e.jsx("input",{...f()}),e.jsx(r,{className:"w-16 h-16 mx-auto mb-4 text-purple-500"}),e.jsx("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:N?"Drop your image here":"Drag & drop an image here"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"or"}),e.jsx("button",{className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg font-medium hover:from-purple-600 hover:to-blue-600 transition-all shadow-md hover:shadow-lg",children:"Browse Files"}),e.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"Supports: PNG, JPG, JPEG, GIF, WEBP, BMP"})]})}),p&&e.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:e.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx(n,{className:"w-8 h-8 text-purple-500 animate-spin"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Processing your image..."}),e.jsx("p",{className:"text-sm text-gray-500",children:"This may take a few seconds"})]})]})})}),o&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-center gap-4",children:[m&&e.jsxs("button",{onClick:()=>{if(m){const e=document.createElement("a");e.href=m,e.download=g.replace(/\.[^/.]+$/,"")+"_no_bg.png",document.body.appendChild(e),e.click(),document.body.removeChild(e),a.success("Image downloaded!")}},className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-medium hover:from-green-600 hover:to-emerald-600 transition-all shadow-md hover:shadow-lg",children:[e.jsx(d,{className:"w-5 h-5"}),"Download Result"]}),e.jsxs("button",{onClick:()=>{c(null),x(null),h("")},className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-lg font-medium hover:from-red-600 hover:to-pink-600 transition-all shadow-md hover:shadow-lg",children:[e.jsx(i,{className:"w-5 h-5"}),"Clear & Upload New"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Original Image"}),e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:"Before"})]}),e.jsx("div",{className:"relative aspect-square bg-gray-100 rounded-xl overflow-hidden",children:e.jsx("img",{src:o,alt:"Original",className:"w-full h-full object-contain"})}),e.jsx("p",{className:"mt-3 text-sm text-gray-500 truncate",children:g})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Processed Image"}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:"After"})]}),e.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"\n                        linear-gradient(45deg, #e5e7eb 25%, transparent 25%),\n                        linear-gradient(-45deg, #e5e7eb 25%, transparent 25%),\n                        linear-gradient(45deg, transparent 75%, #e5e7eb 75%),\n                        linear-gradient(-45deg, transparent 75%, #e5e7eb 75%)\n                      ",backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px"}}),m?e.jsx("img",{src:m,alt:"Processed",className:"relative w-full h-full object-contain"}):e.jsx("div",{className:"relative flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(n,{className:"w-12 h-12 mx-auto text-purple-500 animate-spin mb-3"}),e.jsx("p",{className:"text-gray-500",children:"Processing..."})]})})]}),m&&e.jsx("p",{className:"mt-3 text-sm text-green-600 font-medium",children:"âœ“ Background removed"})]})]})]}),!o&&!p&&e.jsxs("div",{className:"max-w-4xl mx-auto mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"How It Works"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"1"})}),e.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Upload Image"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Drag & drop or click to upload your image"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"2"})}),e.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Auto Processing"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Advanced AI precisely removes background while preserving all subject details"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-green-600",children:"3"})}),e.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Download Result"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Download your image with transparent background"})]})]})]}),e.jsxs("div",{className:"max-w-4xl mx-auto mt-8 bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-purple-800",children:e.jsx("strong",{children:"âœ¨ Enhanced Quality Features:"})}),e.jsxs("ul",{className:"text-sm text-purple-700 mt-2 space-y-1 ml-4",children:[e.jsx("li",{children:"â€¢ Alpha matting for perfect edges"}),e.jsx("li",{children:"â€¢ Advanced AI model (isnet-general-use)"}),e.jsx("li",{children:"â€¢ Preserves all subject details"}),e.jsx("li",{children:"â€¢ Edge refinement post-processing"})]}),e.jsxs("p",{className:"text-xs text-purple-600 mt-3",children:[e.jsx("strong",{children:"Note:"})," First use downloads enhanced AI model (~47MB). Run: ",e.jsx("code",{className:"bg-purple-200 px-2 py-1 rounded",children:"python3 bg-removal-api.py"})]})]})]})})};export{o as default};
