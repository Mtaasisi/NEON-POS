import{u as e,j as t}from"./index-222cfb29.js";import{r as s}from"./vendor-a2ff445a.js";import{P as a}from"./PageErrorWrapper-024e3cfe.js";import{l as i,s as r}from"./userSettingsApi-39de17fd.js";import{g as n,a as l}from"./roleBasedWidgets-3988ddf5.js";import{cH as o,N as d,aZ as c,z as g,aK as m,a4 as h,Z as x,bd as p,h as u,be as b,ax as y,aH as f,bF as j,aI as v,av as N,I as w,m as k,Q as C,t as W,x as S,u as A,a_ as P,D as M,a5 as D,s as E,aa as T,y as O,p as z,aV as I,a1 as F,ai as L,aj as q,a0 as R,b7 as U,a6 as $,bf as B,a8 as H,T as _,aC as G,v as J,f as V,ah as Z,bg as Q,bh as Y,bi as K,am as X,_ as ee,bj as te,U as se}from"./ui-551a39a6.js";import"./supabase-7e851d02.js";import"./routing-a2f0f6d2.js";import"./PageErrorBoundary-d0d559c5.js";import"./useErrorHandler-ea2ee44d.js";import"./ErrorState-0516fc54.js";const ae={revenueTrendChart:"Revenue Trend",salesChart:"Sales Overview",deviceStatusChart:"Device Status",appointmentsTrendChart:"Appointments Trend",purchaseOrderChart:"Purchase Orders",paymentMethodsChart:"Payment Methods",analyticsWidget:"Analytics",salesByCategoryChart:"Sales by Category",profitMarginChart:"Profit Margin",performanceMetricsChart:"Performance Metrics",customerActivityChart:"Customer Activity",appointmentWidget:"Appointments",employeeWidget:"Employees",notificationWidget:"Notifications",financialWidget:"Financial",salesFunnelChart:"Sales Funnel",customerInsightsWidget:"Customer Insights",systemHealthWidget:"System Health",inventoryWidget:"Inventory",activityFeedWidget:"Activity Feed",purchaseOrderWidget:"Purchase Order",chatWidget:"Chat",salesWidget:"Sales",topProductsWidget:"Top Products",expensesWidget:"Expenses",staffPerformanceWidget:"Staff Performance",stockLevelChart:"Stock Level",serviceWidget:"Service",reminderWidget:"Reminders"},ie=["revenueTrendChart","salesChart","deviceStatusChart","appointmentsTrendChart","purchaseOrderChart","paymentMethodsChart","analyticsWidget","salesByCategoryChart","profitMarginChart","performanceMetricsChart","customerActivityChart","appointmentWidget","employeeWidget","notificationWidget","financialWidget","salesFunnelChart","customerInsightsWidget","systemHealthWidget","inventoryWidget","activityFeedWidget","purchaseOrderWidget","chatWidget","salesWidget","topProductsWidget","expensesWidget","staffPerformanceWidget"],re=({className:a=""})=>{const{currentUser:l}=e(),[m,h]=s.useState([]),[x,p]=s.useState(null),[u,b]=s.useState(null),[y,f]=s.useState(!1),[j,v]=s.useState(!0),N=s.useRef([]);s.useEffect(()=>{(async()=>{if(null==l?void 0:l.id)try{v(!0);const t=n(l.role),s=ie.filter(e=>t[e]),a=localStorage.getItem("dashboard_widget_order");if(a)try{const e=JSON.parse(a).filter(e=>s.includes(e));h(e),N.current=e}catch(e){h(s),N.current=s}else h(s),N.current=s}catch(t){g.error("Failed to load widget order")}finally{v(!1)}})()},[null==l?void 0:l.id,null==l?void 0:l.role]);const w=()=>{p(null),b(null)};return j?t.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-6 ${a}`,children:t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),t.jsx("span",{className:"ml-3 text-gray-600",children:"Loading widget order..."})]})}):t.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-6 ${a}`,children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Widget Order"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Drag and drop widgets to reorder them on your dashboard. Changes will take effect after saving."})]}),t.jsx("div",{className:"space-y-2 mb-6",children:m.map((e,s)=>{const a=x===e,i=u===e;return t.jsxs("div",{draggable:!0,onDragStart:t=>((e,t)=>{p(t),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t)})(t,e),onDragOver:t=>((e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",t&&x&&t!==x&&b(t)})(t,e),onDrop:t=>((e,t)=>{e.preventDefault(),e.stopPropagation();const s=e.dataTransfer.getData("text/plain");if(!s||s===t)return p(null),void b(null);const a=N.current.length>0?[...N.current]:[...m],i=a.indexOf(s),r=a.indexOf(t);if(-1===i||-1===r)return p(null),void b(null);a.splice(i,1),a.splice(r,0,s),N.current=a,p(null),b(null),h([...a]),g.success("Widget order updated! Click Save to apply.",{duration:2e3})})(t,e),onDragEnd:w,className:`\n                flex items-center gap-3 p-4 rounded-lg border-2 transition-all cursor-move\n                ${a?"opacity-50 border-indigo-400 bg-indigo-50":""}\n                ${i?"border-indigo-600 bg-indigo-50 scale-105":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}\n                ${a||i?"":"hover:shadow-md"}\n              `,children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(o,{className:"w-5 h-5 text-gray-400"})}),t.jsxs("div",{className:"flex-grow",children:[t.jsx("div",{className:"font-medium text-gray-900",children:ae[e]||e}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Position ",s+1]})]}),a&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("span",{className:"text-xs font-medium text-indigo-600",children:"Dragging..."})}),i&&!a&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("span",{className:"text-xs font-medium text-indigo-600",children:"Drop here"})})]},e)})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:async()=>{if(null==l?void 0:l.id)try{f(!0);const t=N.current.length>0?N.current:m;localStorage.setItem("dashboard_widget_order",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("widgetOrderUpdated",{detail:{order:t}}));try{const e={...await i(l.id),widgetOrder:t};await r(l.id,e,"Widget Order")}catch(e){}g.success("Widget order saved! Go back to dashboard to see changes.")}catch(t){g.error("Failed to save widget order")}finally{f(!1)}else g.error("User not authenticated")},disabled:y,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(d,{className:"w-4 h-4"}),y?"Saving...":"Save Order"]}),t.jsxs("button",{onClick:()=>{const e=n((null==l?void 0:l.role)||"user"),t=ie.filter(t=>e[t]);h(t),N.current=t,localStorage.setItem("dashboard_widget_order",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("widgetOrderUpdated",{detail:{order:t}})),g.success("Widget order reset to default. Check your dashboard!")},disabled:y,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(c,{className:"w-4 h-4"}),"Reset to Default"]})]}),t.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Tip:"})," Only widgets you have enabled will appear in this list. To show or hide widgets, use the widgets toggle section above."]})})]})},ne=()=>{const{currentUser:a}=e(),[o,se]=s.useState(!0),[ae,ie]=s.useState(!1),[ne,le]=s.useState(null),[oe,de]=s.useState({quickActions:{devices:!0,addDevice:!0,customers:!0,inventory:!0,appointments:!0,purchaseOrders:!0,payments:!0,adGenerator:!0,pos:!0,reports:!0,employees:!0,whatsapp:!0,settings:!0,search:!0,loyalty:!0,backup:!0,sms:!0,bulkSms:!0,smsLogs:!0,smsSettings:!0,excelImport:!0,excelTemplates:!0,productExport:!0,customerImport:!0,userManagement:!0,databaseSetup:!0,integrationSettings:!0,integrationsTest:!0,aiTraining:!0,bluetoothPrinter:!0,categoryManagement:!0,supplierManagement:!0,storeLocations:!0,reminders:!0,mobile:!0,myAttendance:!0},widgets:{revenueTrendChart:!0,deviceStatusChart:!0,appointmentsTrendChart:!0,stockLevelChart:!0,performanceMetricsChart:!0,customerActivityChart:!0,salesFunnelChart:!0,purchaseOrderChart:!0,appointmentWidget:!0,employeeWidget:!0,notificationWidget:!0,financialWidget:!0,analyticsWidget:!0,serviceWidget:!0,reminderWidget:!0,customerInsightsWidget:!0,systemHealthWidget:!0,inventoryWidget:!0,activityFeedWidget:!0,purchaseOrderWidget:!0,chatWidget:!0,salesWidget:!0,topProductsWidget:!0,expensesWidget:!0,staffPerformanceWidget:!0,salesChart:!0,paymentMethodsChart:!0,salesByCategoryChart:!0,profitMarginChart:!0}});s.useEffect(()=>{a&&(ce(),ge())},[null==a?void 0:a.id,null==a?void 0:a.role]);const ce=()=>{if(!a)return;const e=n(a.role),t=l(a.role);le({widgets:e,quickActions:t})},ge=async()=>{if(null==a?void 0:a.id)try{se(!0);const e=await i(a.id);(null==e?void 0:e.dashboard)&&de(e.dashboard)}catch(e){g.error("Failed to load dashboard settings")}finally{se(!1)}},me=e=>{(null==ne?void 0:ne.widgets[e])&&de(t=>({...t,widgets:{...t.widgets,[e]:!t.widgets[e]}}))},he=e=>{ne&&de(t=>({...t,quickActions:Object.keys(t.quickActions).reduce((t,s)=>{const a=s;return t[s]=!!ne.quickActions[a]&&e,t},{})}))},xe=(e,t)=>{de(s=>({...s,widgetSizes:{...s.widgetSizes||{},[e]:t}}))},pe=e=>{var t;return(null==(t=oe.widgetSizes)?void 0:t[e])||"medium"},ue=[{key:"devices",label:"Devices",icon:k,description:"Manage devices"},{key:"addDevice",label:"Add Device",icon:C,description:"Add new device"},{key:"customers",label:"Customers",icon:W,description:"View customers"},{key:"inventory",label:"Inventory",icon:S,description:"Stock & parts"},{key:"appointments",label:"Appointments",icon:A,description:"Schedule appointments"},{key:"purchaseOrders",label:"Purchase Orders",icon:P,description:"Manage orders"},{key:"payments",label:"Payments",icon:M,description:"Payment management"},{key:"adGenerator",label:"Ad Generator",icon:D,description:"Create product ads"},{key:"pos",label:"POS System",icon:M,description:"Point of sale"},{key:"reports",label:"Sales Reports",icon:y,description:"View sales reports"},{key:"employees",label:"Employees",icon:W,description:"Manage staff"},{key:"whatsapp",label:"WhatsApp",icon:E,description:"WhatsApp chat"},{key:"settings",label:"Settings",icon:T,description:"System settings"},{key:"search",label:"Search",icon:O,description:"Global search"},{key:"loyalty",label:"Loyalty Program",icon:z,description:"Customer loyalty"},{key:"backup",label:"Backup",icon:I,description:"Data backup"},{key:"sms",label:"SMS Center",icon:F,description:"SMS management"},{key:"bulkSms",label:"Bulk SMS",icon:F,description:"Mass messaging"},{key:"smsLogs",label:"SMS Logs",icon:F,description:"Message history"},{key:"smsSettings",label:"SMS Settings",icon:T,description:"SMS configuration"},{key:"excelImport",label:"Excel Import",icon:L,description:"Data import"},{key:"excelTemplates",label:"Excel Templates",icon:q,description:"Template downloads"},{key:"productExport",label:"Product Export",icon:q,description:"Export products"},{key:"customerImport",label:"Customer Import",icon:L,description:"Import customers"},{key:"userManagement",label:"User Management",icon:R,description:"User administration"},{key:"databaseSetup",label:"Database Setup",icon:U,description:"Database configuration"},{key:"integrationSettings",label:"Integration Settings",icon:T,description:"System integrations"},{key:"integrationsTest",label:"Integrations Test",icon:$,description:"Test integrations"},{key:"aiTraining",label:"AI Training",icon:B,description:"AI training system"},{key:"bluetoothPrinter",label:"Bluetooth Printer",icon:H,description:"Printer management"},{key:"categoryManagement",label:"Category Management",icon:_,description:"Product categories"},{key:"supplierManagement",label:"Supplier Management",icon:G,description:"Supplier management"},{key:"storeLocations",label:"Store Locations",icon:J,description:"Location management"},{key:"reminders",label:"Reminders",icon:V,description:"Reminder system"},{key:"mobile",label:"Mobile",icon:k,description:"Mobile features"},{key:"myAttendance",label:"My Attendance",icon:V,description:"Personal attendance"}],be=[{key:"revenueTrendChart",label:"Revenue Trend Chart",icon:Z,category:"Charts"},{key:"deviceStatusChart",label:"Device Status Chart",icon:k,category:"Charts"},{key:"appointmentsTrendChart",label:"Appointments Trend Chart",icon:A,category:"Charts"},{key:"stockLevelChart",label:"Stock Level Chart",icon:S,category:"Charts"},{key:"performanceMetricsChart",label:"Performance Metrics Chart",icon:N,category:"Charts"},{key:"customerActivityChart",label:"Customer Activity Chart",icon:W,category:"Charts"},{key:"salesFunnelChart",label:"Sales Funnel Chart",icon:Q,category:"Charts"},{key:"purchaseOrderChart",label:"Purchase Order Chart",icon:P,category:"Charts"},{key:"salesChart",label:"Sales Chart",icon:M,category:"Charts"},{key:"paymentMethodsChart",label:"Payment Methods Chart",icon:Y,category:"Charts"},{key:"salesByCategoryChart",label:"Sales by Category Chart",icon:_,category:"Charts"},{key:"profitMarginChart",label:"Profit Margin Chart",icon:Z,category:"Charts"},{key:"appointmentWidget",label:"Appointment Widget",icon:A,category:"Widgets"},{key:"employeeWidget",label:"Employee Widget",icon:K,category:"Widgets"},{key:"notificationWidget",label:"Notification Widget",icon:X,category:"Widgets"},{key:"financialWidget",label:"Financial Widget",icon:M,category:"Widgets"},{key:"analyticsWidget",label:"Analytics Widget",icon:y,category:"Widgets"},{key:"serviceWidget",label:"Service Widget",icon:ee,category:"Widgets"},{key:"reminderWidget",label:"Reminder Widget",icon:X,category:"Widgets"},{key:"customerInsightsWidget",label:"Customer Insights Widget",icon:W,category:"Widgets"},{key:"systemHealthWidget",label:"System Health Widget",icon:N,category:"Widgets"},{key:"inventoryWidget",label:"Inventory Widget",icon:S,category:"Widgets"},{key:"activityFeedWidget",label:"Activity Feed Widget",icon:te,category:"Widgets"},{key:"purchaseOrderWidget",label:"Purchase Order Widget",icon:P,category:"Widgets"},{key:"chatWidget",label:"Chat Widget",icon:E,category:"Widgets"},{key:"salesWidget",label:"Sales Widget",icon:M,category:"Widgets"},{key:"topProductsWidget",label:"Top Products Widget",icon:Z,category:"Widgets"},{key:"expensesWidget",label:"Expenses Widget",icon:Y,category:"Widgets"},{key:"staffPerformanceWidget",label:"Staff Performance Widget",icon:W,category:"Widgets"}];if(o||!ne)return t.jsxs("div",{className:"flex items-center justify-center h-64",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),t.jsx("span",{className:"ml-3 text-gray-600",children:"Loading dashboard settings..."})]});const ye=ue.filter(e=>ne.quickActions[e.key]),fe=be.filter(e=>ne.widgets[e.key]),je=fe.filter(e=>"Charts"===e.category),ve=fe.filter(e=>"Widgets"===e.category),Ne=ye.filter(e=>oe.quickActions[e.key]).length,we=je.filter(e=>oe.widgets[e.key]).length,ke=ve.filter(e=>oe.widgets[e.key]).length;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center",children:t.jsx(m,{className:"w-5 h-5 text-indigo-600"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Dashboard Settings"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Customize your dashboard - Click items to add or remove"})]})]}),t.jsx("div",{className:"flex gap-2",children:t.jsx("div",{className:"px-3 py-1.5 bg-blue-50 rounded-lg",children:t.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:[Ne+we+ke," items enabled"]})})})]}),t.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(h,{className:"w-4 h-4 text-blue-600"}),t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsxs("span",{className:"font-semibold",children:["Your Role: ",(Ce=(null==a?void 0:a.role)||"",{admin:"Administrator","customer-care":"Customer Care",technician:"Technician",manager:"Manager",sales:"Sales",user:"User"}[Ce]||Ce)]})," - You can customize ",ye.length," quick actions and ",fe.length," widgets"]})]})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:async()=>{if(null==a?void 0:a.id)try{ie(!0);const e={...await i(a.id),dashboard:oe};await r(a.id,e,"Dashboard")?(g.success("Dashboard settings saved! Refresh your dashboard to see changes.",{duration:4e3,icon:"âœ…"}),window.dispatchEvent(new CustomEvent("dashboardSettingsChanged"))):g.error("Failed to save dashboard settings")}catch(e){g.error("Failed to save dashboard settings")}finally{ie(!1)}else g.error("User not authenticated")},disabled:ae,className:"flex items-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 font-medium",children:[t.jsx(d,{size:18}),ae?"Saving...":"Save Changes"]}),t.jsxs("button",{onClick:()=>{if(!ne)return;const e={quickActions:ne.quickActions,widgets:ne.widgets};de(e),g.success("Dashboard settings reset to your role defaults")},className:"flex items-center gap-2 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:[t.jsx(c,{size:18}),"Reset to Defaults"]})]})]}),ye.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:t.jsx(x,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsxs("span",{className:"font-semibold text-blue-600",children:[Ne," of ",ye.length]})," enabled"]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>he(!0),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors font-medium",children:[t.jsx(p,{size:16}),"Enable All"]}),t.jsxs("button",{onClick:()=>he(!1),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors font-medium",children:[t.jsx(u,{size:16}),"Disable All"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:ye.map(e=>{const s=e.icon,a=oe.quickActions[e.key];return t.jsxs("button",{onClick:()=>{return t=e.key,void((null==ne?void 0:ne.quickActions[t])&&de(e=>({...e,quickActions:{...e.quickActions,[t]:!e.quickActions[t]}})));var t},className:"group p-4 rounded-xl border-2 transition-all text-left relative overflow-hidden "+(a?"border-indigo-500 bg-gradient-to-br from-indigo-50 to-blue-50 shadow-sm hover:shadow-md":"border-gray-200 bg-white hover:border-indigo-300 hover:bg-indigo-50/30"),children:[t.jsx("div",{className:"absolute top-2 right-2 px-2 py-0.5 rounded-full text-xs font-medium "+(a?"bg-green-500 text-white":"bg-gray-300 text-gray-600"),children:a?"Enabled":"Disabled"}),t.jsx("div",{className:"flex items-start gap-3 mb-2 mt-2",children:t.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center transition-all "+(a?"bg-indigo-600 shadow-lg shadow-indigo-200":"bg-gray-300 group-hover:bg-indigo-400"),children:t.jsx(s,{className:"w-5 h-5 text-white"})})}),t.jsx("h4",{className:"font-semibold text-sm mb-1 "+(a?"text-indigo-900":"text-gray-700"),children:e.label}),t.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:e.description}),t.jsxs("div",{className:"mt-3 flex items-center gap-1 text-xs font-medium transition-opacity "+(a?"text-red-600 opacity-0 group-hover:opacity-100":"text-indigo-600 opacity-0 group-hover:opacity-100"),children:[t.jsx(b,{size:12}),a?"Click to disable":"Click to enable"]})]},e.key)})})]}),je.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center",children:t.jsx(y,{className:"w-5 h-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Dashboard Charts"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsxs("span",{className:"font-semibold text-purple-600",children:[we," of ",je.length]})," enabled"]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>{je.forEach(e=>{de(t=>({...t,widgets:{...t.widgets,[e.key]:!0}}))})},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors font-medium",children:[t.jsx(p,{size:16}),"Enable All"]}),t.jsxs("button",{onClick:()=>{je.forEach(e=>{de(t=>({...t,widgets:{...t.widgets,[e.key]:!1}}))})},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors font-medium",children:[t.jsx(u,{size:16}),"Disable All"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:je.map(e=>{const s=e.icon,a=oe.widgets[e.key],i=pe(e.key);return t.jsxs("div",{className:"rounded-xl border-2 transition-all relative overflow-hidden "+(a?"border-purple-500 bg-gradient-to-br from-purple-50 to-pink-50 shadow-sm":"border-gray-200 bg-white"),children:[t.jsxs("button",{onClick:()=>me(e.key),className:"w-full p-4 text-left group",children:[t.jsx("div",{className:"absolute top-2 right-2 px-2 py-0.5 rounded-full text-xs font-medium "+(a?"bg-green-500 text-white":"bg-gray-300 text-gray-600"),children:a?"Enabled":"Disabled"}),t.jsx("div",{className:"flex items-start gap-3 mb-2 mt-2",children:t.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center transition-all "+(a?"bg-purple-600 shadow-lg shadow-purple-200":"bg-gray-300 group-hover:bg-purple-400"),children:t.jsx(s,{className:"w-5 h-5 text-white"})})}),t.jsx("h4",{className:"font-semibold text-sm mb-1 "+(a?"text-purple-900":"text-gray-700"),children:e.label}),t.jsxs("div",{className:"mt-3 flex items-center gap-1 text-xs font-medium transition-opacity "+(a?"text-red-600 opacity-0 group-hover:opacity-100":"text-purple-600 opacity-0 group-hover:opacity-100"),children:[t.jsx(b,{size:12}),a?"Click to disable":"Click to enable"]})]}),a&&t.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-purple-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Widget Size:"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:t=>{t.stopPropagation(),xe(e.key,"small")},className:`p-1.5 rounded ${"small"===i?"bg-purple-600 text-white":"bg-purple-100 text-purple-600 hover:bg-purple-200"} transition-colors`,title:"Small (1 column)",children:t.jsx(f,{size:14})}),t.jsx("button",{onClick:t=>{t.stopPropagation(),xe(e.key,"medium")},className:`p-1.5 rounded ${"medium"===i?"bg-purple-600 text-white":"bg-purple-100 text-purple-600 hover:bg-purple-200"} transition-colors`,title:"Medium (2 columns)",children:t.jsx(j,{size:14})}),t.jsx("button",{onClick:t=>{t.stopPropagation(),xe(e.key,"large")},className:`p-1.5 rounded ${"large"===i?"bg-purple-600 text-white":"bg-purple-100 text-purple-600 hover:bg-purple-200"} transition-colors`,title:"Large (3 columns)",children:t.jsx(v,{size:14})})]})]})})]},e.key)})})]}),ve.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:t.jsx(N,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Dashboard Widgets"}),t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsxs("span",{className:"font-semibold text-green-600",children:[ke," of ",ve.length]})," enabled"]})]})]}),t.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:t.jsx(m,{className:"w-4 h-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Auto Arrange"}),t.jsx("p",{className:"text-xs text-gray-600",children:"Automatically fill empty spaces with expanded widgets"})]})]}),t.jsx("button",{onClick:()=>{de(e=>({...e,autoArrange:!e.autoArrange}))},className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors "+(oe.autoArrange?"bg-blue-600":"bg-gray-200"),children:t.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(oe.autoArrange?"translate-x-6":"translate-x-1")})})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>{ve.forEach(e=>{de(t=>({...t,widgets:{...t.widgets,[e.key]:!0}}))})},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors font-medium",children:[t.jsx(p,{size:16}),"Enable All"]}),t.jsxs("button",{onClick:()=>{ve.forEach(e=>{de(t=>({...t,widgets:{...t.widgets,[e.key]:!1}}))})},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors font-medium",children:[t.jsx(u,{size:16}),"Disable All"]})]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(320px, 100%), 1fr))",gap:"clamp(1rem, 2vw, 1.5rem)",gridAutoRows:"1fr"},children:ve.map(e=>{const s=e.icon,a=oe.widgets[e.key],i=pe(e.key);return t.jsxs("div",{className:"rounded-xl border-2 transition-all relative overflow-hidden "+(a?"border-green-500 bg-gradient-to-br from-green-50 to-emerald-50 shadow-sm":"border-gray-200 bg-white"),children:[t.jsxs("button",{onClick:()=>me(e.key),className:"w-full p-4 text-left group",children:[t.jsx("div",{className:"absolute top-2 right-2 px-2 py-0.5 rounded-full text-xs font-medium "+(a?"bg-green-500 text-white":"bg-gray-300 text-gray-600"),children:a?"Enabled":"Disabled"}),t.jsx("div",{className:"flex items-start gap-3 mb-2 mt-2",children:t.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center transition-all "+(a?"bg-green-600 shadow-lg shadow-green-200":"bg-gray-300 group-hover:bg-green-400"),children:t.jsx(s,{className:"w-5 h-5 text-white"})})}),t.jsx("h4",{className:"font-semibold text-sm mb-1 "+(a?"text-green-900":"text-gray-700"),children:e.label}),t.jsxs("div",{className:"mt-3 flex items-center gap-1 text-xs font-medium transition-opacity "+(a?"text-red-600 opacity-0 group-hover:opacity-100":"text-green-600 opacity-0 group-hover:opacity-100"),children:[t.jsx(b,{size:12}),a?"Click to disable":"Click to enable"]})]}),a&&t.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-green-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs font-medium text-green-700",children:"Widget Size:"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:t=>{t.stopPropagation(),xe(e.key,"small")},className:`p-1.5 rounded ${"small"===i?"bg-green-600 text-white":"bg-green-100 text-green-600 hover:bg-green-200"} transition-colors`,title:"Small (1 column)",children:t.jsx(f,{size:14})}),t.jsx("button",{onClick:t=>{t.stopPropagation(),xe(e.key,"medium")},className:`p-1.5 rounded ${"medium"===i?"bg-green-600 text-white":"bg-green-100 text-green-600 hover:bg-green-200"} transition-colors`,title:"Medium (2 columns)",children:t.jsx(j,{size:14})}),t.jsx("button",{onClick:t=>{t.stopPropagation(),xe(e.key,"large")},className:`p-1.5 rounded ${"large"===i?"bg-green-600 text-white":"bg-green-100 text-green-600 hover:bg-green-200"} transition-colors`,title:"Large (3 columns)",children:t.jsx(v,{size:14})})]})]})})]},e.key)})})]}),t.jsx(re,{className:"mt-8"}),t.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-5 mt-8",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:t.jsx(w,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-blue-900 mb-2 text-base",children:"ðŸ’¡ How to Use"}),t.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 font-bold",children:"â†’"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Click any card"})," to enable/disable it on your dashboard"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 font-bold",children:"â†’"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Choose widget size"})," using the buttons at the bottom of each enabled widget (Small, Medium, Large)"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 font-bold",children:"â†’"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Drag and drop widgets"})," in the Widget Order section to reorder them on your dashboard"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 font-bold",children:"â†’"}),t.jsxs("span",{children:["Use ",t.jsx("strong",{children:'"Enable All"'})," or ",t.jsx("strong",{children:'"Disable All"'})," buttons for quick selection"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 font-bold",children:"â†’"}),t.jsx("span",{children:"Only widgets available to your role are shown here"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 font-bold",children:"â†’"}),t.jsxs("span",{children:["Don't forget to click ",t.jsx("strong",{children:'"Save Changes"'})," when done!"]})]})]})]})]})})]});var Ce},le=()=>{e();const[i,r]=s.useState("dashboard"),n=[{id:"dashboard",label:"Dashboard",icon:m,description:"Customize your dashboard"},{id:"profile",label:"Profile",icon:se,description:"Manage your profile",disabled:!0},{id:"notifications",label:"Notifications",icon:X,description:"Notification preferences",disabled:!0},{id:"security",label:"Security",icon:h,description:"Security settings",disabled:!0}];return t.jsx(a,{children:t.jsx("div",{className:"min-h-screen bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-600 flex items-center justify-center",children:t.jsx(T,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),t.jsx("p",{className:"text-gray-600",children:"Manage your preferences and customize your experience"})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex space-x-1 p-2","aria-label":"Settings Tabs",children:n.map(e=>{const s=e.icon,a=i===e.id;return t.jsxs("button",{onClick:()=>!e.disabled&&r(e.id),disabled:e.disabled,className:`\n                        flex items-center gap-2 px-4 py-3 rounded-lg text-sm font-medium transition-colors\n                        ${a?"bg-indigo-50 text-indigo-700 border-2 border-indigo-200":e.disabled?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}\n                      `,title:e.disabled?"Coming soon":e.description,children:[t.jsx(s,{className:"w-4 h-4"}),t.jsx("span",{children:e.label}),e.disabled&&t.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-gray-200 text-gray-600 rounded",children:"Soon"})]},e.id)})})}),t.jsxs("div",{className:"p-6",children:["dashboard"===i&&t.jsx(ne,{}),"profile"===i&&t.jsxs("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(se,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),t.jsx("p",{children:"Profile settings coming soon"})]}),"notifications"===i&&t.jsxs("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(X,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),t.jsx("p",{children:"Notification settings coming soon"})]}),"security"===i&&t.jsxs("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(h,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),t.jsx("p",{children:"Security settings coming soon"})]})]})]})]})})})};export{le as default};
