import{j as e}from"./index-222cfb29.js";import{R as t,r}from"./vendor-a2ff445a.js";import{D as s}from"./ui-551a39a6.js";const a=t.forwardRef(({value:t,onChange:a,placeholder:o="0",className:l="",disabled:n=!1,min:i=0,max:c,step:d=.01,label:m,error:u},p)=>{const[g,x]=r.useState(""),[f,b]=r.useState(!1),y=e=>{if(!e&&0!==e)return"";const t="string"==typeof e?parseFloat(e.replace(/,/g,"")):e;return isNaN(t)?"":t.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})};r.useEffect(()=>{f||x(0===t||""===t?"":y(t))},[t,f]);return e.jsxs("div",{children:[m&&e.jsx("label",{className:"block mb-2 font-medium "+(u?"text-red-600":"text-gray-700"),children:m}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:p,type:"text",value:g,onChange:e=>{const t=e.target.value;if(""===t||"0"===t)return x(""),void a(0);const r=t.replace(/,/g,"");if(/^\d*\.?\d*$/.test(r)){x(t);const e=parseFloat(r);isNaN(e)||a(e)}},onFocus:()=>{b(!0),t&&0!==t&&x(t.toString())},onBlur:()=>{b(!1),x(t&&0!==t?y(t):"")},onKeyDown:e=>{(","===e.key||e.key>="0"&&e.key<="9")&&setTimeout(()=>{const t=e.target,r=t.selectionStart,s=t.value.replace(/,/g,"");if(s&&!isNaN(parseFloat(s))){const e=y(parseFloat(s));x(e),setTimeout(()=>{const a=e.length-(s.length-(r||0));t.setSelectionRange(a,a)},0)}},0)},placeholder:o,className:`w-full py-3 pl-12 pr-3 bg-white/30 backdrop-blur-md border-2 rounded-lg text-center text-lg font-semibold text-gray-900 border-gray-300 focus:outline-none focus:border-blue-500 transition-colors ${u?"border-red-500":""} ${l}`,disabled:n,min:i,max:c,step:d}),e.jsx(s,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:18})]}),u&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u})]})});a.displayName="PriceInput";export{a as P};
