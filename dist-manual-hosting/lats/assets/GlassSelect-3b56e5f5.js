import{j as e}from"./index-222cfb29.js";import{r,R as s}from"./vendor-a2ff445a.js";import{c as a}from"./utils-fb833cf6.js";import{X as t,e as l,b as o}from"./ui-551a39a6.js";const n=r.forwardRef(({className:n,label:i,error:d,helperText:c,options:u=[],placeholder:p,variant:m="default",size:g="md",onChange:x,clearable:b=!1,loading:h=!1,success:f=!1,disabled:v,required:j,value:y,...N},w)=>{const C=r.useId(),k=r.useId(),I=r.useId(),z=s.useMemo(()=>{const e={},r=[];return u.forEach(s=>{s.group?(e[s.group]||(e[s.group]=[]),e[s.group].push(s)):r.push(s)}),{groups:e,ungrouped:r}},[u]),q=a("w-full transition-all duration-200 ease-in-out","focus:outline-none focus:ring-2 focus:ring-offset-0","border rounded-lg backdrop-blur-sm","appearance-none cursor-pointer","font-medium",{"py-2 pl-3 pr-10 text-sm":"sm"===g,"py-3 pl-4 pr-11 text-sm":"md"===g,"py-4 pl-5 pr-12 text-base":"lg"===g},{"bg-white/80 hover:bg-white/90":"default"===m,"bg-gray-50/80 hover:bg-gray-100/80":"filled"===m,"bg-transparent hover:bg-white/5 border-2":"outlined"===m},{"border-red-300 focus:border-red-500 focus:ring-red-500/50 text-red-900":d,"border-green-300 focus:border-green-500 focus:ring-green-500/50":f&&!d,"border-gray-300 focus:border-blue-500 focus:ring-blue-500/50 text-gray-900":!d&&!f,"opacity-60 cursor-not-allowed bg-gray-100/50":v||h},n),G={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[g],M=b&&y&&!v&&!h;return e.jsxs("div",{className:"w-full",children:[i&&e.jsxs("label",{htmlFor:C,className:a("block text-sm font-semibold mb-2 transition-colors",d?"text-red-700":f?"text-green-700":"text-gray-700"),children:[i,j&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("select",{ref:w,id:C,className:q,onChange:e=>{x&&x(e.target.value)},disabled:v||h,required:j,value:y,"aria-invalid":d?"true":"false","aria-describedby":a(d&&k,c&&!d&&I),...N,children:[p&&e.jsx("option",{value:"",disabled:!0,hidden:!0,children:p}),z.ungrouped.map(r=>e.jsx("option",{value:r.value,disabled:r.disabled,className:"py-2",children:r.label},r.value)),Object.entries(z.groups).map(([r,s])=>e.jsx("optgroup",{label:r,children:s.map(r=>e.jsx("option",{value:r.value,disabled:r.disabled,className:"py-2",children:r.label},r.value))},r))]}),e.jsxs("div",{className:a("absolute top-1/2 -translate-y-1/2 flex items-center gap-1","sm"===g?"right-2":"md"===g?"right-3":"right-4"),children:[M&&e.jsx("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),x&&x("")},className:a("p-0.5 rounded-full hover:bg-gray-200/80 transition-colors pointer-events-auto","focus:outline-none focus:ring-2 focus:ring-blue-500/50"),"aria-label":"Clear selection",tabIndex:-1,children:e.jsx(t,{className:a(G,"text-gray-500 hover:text-gray-700")})}),d&&e.jsx(l,{className:a(G,"text-red-500 pointer-events-none")}),h?e.jsx("div",{className:a(G,"pointer-events-none"),children:e.jsxs("svg",{className:"animate-spin text-blue-500",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):!M&&e.jsx(o,{className:a(G,"pointer-events-none transition-colors",d?"text-red-400":f?"text-green-400":"text-gray-400 group-hover:text-gray-600")})]})]}),d&&e.jsxs("p",{id:k,className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(l,{className:"w-4 h-4"}),d]}),c&&!d&&e.jsx("p",{id:I,className:"mt-1.5 text-sm text-gray-500",children:c})]})});n.displayName="GlassSelect";export{n as G};
