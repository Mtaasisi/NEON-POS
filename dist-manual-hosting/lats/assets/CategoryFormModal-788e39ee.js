import{j as e,d as a,ay as r,G as s}from"./index-222cfb29.js";import{r as t}from"./vendor-a2ff445a.js";import{o as l,s as o,b as n,n as i,g as c,u as d,C as m}from"./forms-fd94c8fb.js";import{t as u}from"./zod-4c7d126c.js";import{G as x}from"./GlassInput-ba5c3c0d.js";import{G as g}from"./GlassSelect-3b56e5f5.js";import{G as h}from"./GlassBadge-18f019e2.js";import{cD as p}from"./ui-551a39a6.js";import{u as v}from"./useBodyScrollLock-0216d39f.js";const b=({onEmojiSelect:a,trigger:r})=>{const[s,l]=t.useState(!1),[o,n]=t.useState("smileys"),i={smileys:{name:"Smileys & People",emojis:["ðŸ˜€","ðŸ˜ƒ","ðŸ˜„","ðŸ˜","ðŸ˜†","ðŸ˜…","ðŸ¤£","ðŸ˜‚","ðŸ™‚","ðŸ™ƒ","ðŸ˜‰","ðŸ˜Š","ðŸ˜‡","ðŸ¥°","ðŸ˜","ðŸ¤©","ðŸ˜˜","ðŸ˜—","ðŸ˜š","ðŸ˜™","ðŸ¥²","ðŸ˜‹","ðŸ˜›","ðŸ˜œ","ðŸ¤ª","ðŸ˜","ðŸ¤‘","ðŸ¤—","ðŸ¤­","ðŸ¤«","ðŸ¤”","ðŸ¤","ðŸ¤¨","ðŸ˜","ðŸ˜‘","ðŸ˜¶","ðŸ˜","ðŸ˜’","ðŸ™„","ðŸ˜¬","ðŸ¤¥","ðŸ˜”","ðŸ˜ª","ðŸ¤¤","ðŸ˜´","ðŸ˜·","ðŸ¤’","ðŸ¤•","ðŸ¤¢","ðŸ¤®"]},gestures:{name:"Hand Gestures",emojis:["ðŸ‘‹","ðŸ¤š","ðŸ–ï¸","âœ‹","ðŸ––","ðŸ‘Œ","ðŸ¤Œ","ðŸ¤","âœŒï¸","ðŸ¤ž","ðŸ¤Ÿ","ðŸ¤˜","ðŸ¤™","ðŸ‘ˆ","ðŸ‘‰","ðŸ‘†","ðŸ–•","ðŸ‘‡","â˜ï¸","ðŸ‘","ðŸ‘Ž","ðŸ‘Š","âœŠ","ðŸ¤›","ðŸ¤œ","ðŸ‘","ðŸ™Œ","ðŸ‘","ðŸ¤²","ðŸ¤","ðŸ™","âœï¸","ðŸ’…","ðŸ¤³","ðŸ’ª","ðŸ¦¾","ðŸ¦¿","ðŸ¦µ","ðŸ¦¶","ðŸ‘‚"]},hearts:{name:"Hearts & Love",emojis:["â¤ï¸","ðŸ§¡","ðŸ’›","ðŸ’š","ðŸ’™","ðŸ’œ","ðŸ–¤","ðŸ¤","ðŸ¤Ž","ðŸ’”","â£ï¸","ðŸ’•","ðŸ’ž","ðŸ’“","ðŸ’—","ðŸ’–","ðŸ’˜","ðŸ’","ðŸ’Ÿ","â˜®ï¸","âœï¸","â˜ªï¸","ðŸ•‰ï¸","â˜¸ï¸","âœ¡ï¸","ðŸ”¯","ðŸ•Ž","â˜¯ï¸","â˜¦ï¸","ðŸ›"]},objects:{name:"Objects",emojis:["ðŸ“±","ðŸ’»","âŒš","ðŸ“·","ðŸ“¹","ðŸŽ¥","ðŸ“º","ðŸ“»","ðŸŽµ","ðŸŽ¶","ðŸŽ¼","ðŸŽ¹","ðŸ¥","ðŸŽ·","ðŸŽº","ðŸŽ¸","ðŸª•","ðŸŽ»","ðŸŽ¤","ðŸŽ§","ðŸ“¢","ðŸ“£","ðŸ“¯","ðŸ””","ðŸ”•","ðŸŽª","ðŸŽ­","ðŸ©°","ðŸŽ¨","ðŸŽ¬"]},nature:{name:"Nature",emojis:["ðŸŒ±","ðŸŒ¿","ðŸ€","ðŸŽ","ðŸŽ‹","ðŸƒ","ðŸ‚","ðŸ","ðŸŒ¾","ðŸŒ²","ðŸŒ³","ðŸŒ´","ðŸŒµ","ðŸŒ¶ï¸","ðŸ„","ðŸŒ°","ðŸŽƒ","ðŸŒ»","ðŸŒº","ðŸŒ¸","ðŸŒ·","ðŸŒ¹","ðŸ¥€","ðŸŒ¼","ðŸŒ»","ðŸŒž","ðŸŒ","ðŸŒ›","ðŸŒœ","ðŸŒš"]},food:{name:"Food & Drink",emojis:["ðŸŽ","ðŸŠ","ðŸ‹","ðŸŒ","ðŸ‰","ðŸ‡","ðŸ“","ðŸ«","ðŸˆ","ðŸ’","ðŸ‘","ðŸ¥­","ðŸ","ðŸ¥¥","ðŸ¥","ðŸ…","ðŸ†","ðŸ¥‘","ðŸ¥¦","ðŸ¥¬","ðŸ¥’","ðŸŒ¶ï¸","ðŸ«‘","ðŸŒ½","ðŸ¥•","ðŸ«’","ðŸ§„","ðŸ§…","ðŸ¥”","ðŸ "]}};return e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>l(!s),className:"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",type:"button",children:r||e.jsx(p,{size:20})}),s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),e.jsxs("div",{className:"absolute bottom-12 left-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 w-80 h-96",children:[e.jsx("div",{className:"flex border-b border-gray-200",children:Object.entries(i).map(([a,r])=>e.jsx("button",{onClick:()=>n(a),className:"flex-1 px-2 py-3 text-xs font-medium transition-colors "+(o===a?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"),children:r.name.split(" ")[0]},a))}),e.jsx("div",{className:"p-4 h-80 overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-8 gap-2",children:i[o].emojis.map((r,s)=>e.jsx("button",{onClick:()=>(e=>{a(e),l(!1)})(r),className:"w-8 h-8 flex items-center justify-center text-lg hover:bg-gray-100 rounded transition-colors",title:r,children:r},s))})})]})]})]})},j=l({name:o().min(1,"Category name is required").max(100,"Category name must be less than 100 characters"),description:o().max(500,"Description must be less than 500 characters").optional(),parentId:o().optional(),color:o().regex(/^#[0-9A-F]{6}$/i,"Invalid color format").optional(),icon:o().max(50,"Icon name must be less than 50 characters").optional(),isActive:n().default(!0),sortOrder:i().min(0,"Sort order must be 0 or greater").default(0),metadata:c(o()).optional()}),f=({category:l,parentCategories:o=[],onSubmit:n,onCancel:i,onClose:c,loading:p=!1,className:v=""})=>{const[f,y]=t.useState(!1),{control:C,handleSubmit:N,formState:{errors:w,isDirty:S},watch:k,reset:B}=d({resolver:u(j),defaultValues:{name:(null==l?void 0:l.name)||"",description:(null==l?void 0:l.description)||"",parentId:(null==l?void 0:l.parent_id)||"",color:(null==l?void 0:l.color)||"#3B82F6",icon:(null==l?void 0:l.icon)||"",isActive:(null==l?void 0:l.is_active)??!0,sortOrder:(null==l?void 0:l.sort_order)||0,metadata:(null==l?void 0:l.metadata)||{}}}),F=k().isActive,L=[{value:"#3B82F6",label:"Blue",color:"#3B82F6"},{value:"#10B981",label:"Green",color:"#10B981"},{value:"#F59E0B",label:"Yellow",color:"#F59E0B"},{value:"#EF4444",label:"Red",color:"#EF4444"},{value:"#8B5CF6",label:"Purple",color:"#8B5CF6"},{value:"#EC4899",label:"Pink",color:"#EC4899"},{value:"#6B7280",label:"Gray",color:"#6B7280"},{value:"#000000",label:"Black",color:"#000000"}];return e.jsx(a,{className:`max-w-2xl mx-auto ${v}`,children:e.jsxs("form",{onSubmit:N(async e=>{try{const a={name:e.name,description:e.description,parent_id:e.parentId,color:e.color,icon:e.icon,is_active:e.isActive,sort_order:e.sortOrder,metadata:e.metadata};await n(a),B(e)}catch(a){}}),className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-lats-text",children:[r(l?"common.edit":"common.add")," ",r("common.category")]}),e.jsx("p",{className:"text-sm text-lats-text-secondary mt-1",children:l?"Update category information":"Create a new product category"})]}),e.jsx(h,{variant:F?"success":"error",icon:e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:F?"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z":"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"})}),children:r(F?"common.active":"common.inactive")})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-lats-text",children:"Basic Information"}),e.jsx(m,{name:"name",control:C,render:({field:a})=>{var s;return e.jsx(x,{label:r("common.name"),placeholder:"Enter category name",value:a.value,onChange:a.onChange,error:null==(s=w.name)?void 0:s.message,required:!0,maxLength:100})}}),e.jsx(m,{name:"description",control:C,render:({field:a})=>{var s,t;return e.jsx(x,{label:r("common.description"),placeholder:"Enter category description (optional)",value:a.value,onChange:a.onChange,error:null==(s=w.description)?void 0:s.message,multiline:!0,rows:3,maxLength:500,helperText:`${(null==(t=a.value)?void 0:t.length)||0}/500 characters`})}}),o.length>0&&e.jsx(m,{name:"parentId",control:C,render:({field:a})=>{var r;return e.jsx(g,{label:"Parent Category",placeholder:"Select parent category (optional)",value:a.value,onChange:a.onChange,error:null==(r=w.parentId)?void 0:r.message,options:[{value:"",label:"No parent (root category)"},...o.map(e=>({value:e.id,label:e.name}))],clearable:!0})}})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-lats-text",children:"Appearance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{name:"color",control:C,render:({field:a})=>{var r;return e.jsx(g,{label:"Category Color",placeholder:"Select color",value:a.value,onChange:a.onChange,error:null==(r=w.color)?void 0:r.message,options:L})}}),e.jsx(m,{name:"icon",control:C,render:({field:a})=>{var r;return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-lats-text mb-2",children:"Category Icon"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Select an emoji icon",value:a.value,onChange:a.onChange,className:"w-full py-3 px-4 bg-white/30 backdrop-blur-md border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition-colors",maxLength:10})}),e.jsx(b,{onEmojiSelect:e=>a.onChange(e),trigger:e.jsx("button",{type:"button",className:"p-3 bg-white/30 backdrop-blur-md border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"ðŸ˜Š"})}),a.value&&e.jsx("button",{type:"button",onClick:()=>a.onChange(""),className:"p-3 bg-red-50 border-2 border-red-200 rounded-lg hover:bg-red-100 transition-colors text-red-600",children:"Clear"})]}),(null==(r=w.icon)?void 0:r.message)&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.icon.message}),a.value&&e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Preview: ",e.jsx("span",{className:"text-lg",children:a.value})]})]})}})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-lats-text",children:"Advanced Settings"}),e.jsxs(s,{variant:"ghost",size:"sm",onClick:()=>y(!f),icon:e.jsx("svg",{className:"w-4 h-4 transition-transform "+(f?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),children:[f?"Hide":"Show"," Advanced"]})]}),f&&e.jsxs("div",{className:"space-y-4 p-4 bg-lats-surface/30 rounded-lats-radius-md border border-lats-glass-border",children:[e.jsx(m,{name:"sortOrder",control:C,render:({field:a})=>{var r;return e.jsx(x,{label:"Sort Order",placeholder:"0",type:"number",value:a.value,onChange:e=>a.onChange(parseInt(e.target.value)||0),error:null==(r=w.sortOrder)?void 0:r.message,min:0,helperText:"Lower numbers appear first"})}}),e.jsx(m,{name:"isActive",control:C,render:({field:a})=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-lats-surface/50 rounded-lats-radius-md",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-lats-text",children:"Active Status"}),e.jsx("p",{className:"text-xs text-lats-text-secondary",children:"Inactive categories won't appear in product selection"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only",checked:a.value,onChange:a.onChange}),e.jsx("div",{className:"w-11 h-6 rounded-full transition-colors "+(a.value?"bg-lats-primary":"bg-lats-surface/50"),children:e.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow transform transition-transform "+(a.value?"translate-x-5":"translate-x-0")})})]})]})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6 border-t border-lats-glass-border",children:[e.jsx(s,{type:"submit",variant:"primary",loading:p,disabled:!S,className:"flex-1 sm:flex-none",children:p?"Saving...":l?"Update Category":"Create Category"}),e.jsx(s,{type:"button",variant:"secondary",onClick:()=>{const e=i||c;e&&(S?confirm(r("common.confirmDiscard"))&&(B(),e()):e())},disabled:p,className:"flex-1 sm:flex-none",children:"Cancel"})]})]})})};f.displayName="CategoryForm";const y=({isOpen:a,onClose:r,onSubmit:s,parentCategories:t=[],loading:l=!1,editingCategory:o=null})=>(v(a),a?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsx("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsx(f,{category:o,parentCategories:t,onSubmit:s,onCancel:()=>{r()},loading:l})})}):null);export{y as C};
