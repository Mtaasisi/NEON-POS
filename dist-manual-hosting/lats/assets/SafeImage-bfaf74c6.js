import{j as t}from"./index-222cfb29.js";import{r as e}from"./vendor-a2ff445a.js";const o=["via.placeholder.com","placehold.it","placehold.co","dummyimage.com","picsum.photos","lorempixel.com","loremflickr.com"];function n(t=400,e=400,o="Image"){return`data:image/svg+xml;base64,${btoa(`\n    <svg width="${t}" height="${e}" xmlns="http://www.w3.org/2000/svg">\n      <rect width="100%" height="100%" fill="#f3f4f6"/>\n      <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="16" fill="#6b7280" text-anchor="middle" dy=".3em">\n        ${o}\n      </text>\n    </svg>\n  `)}`}function r(t,e="Image"){return t?function(t){if(!t)return!0;try{const e=new URL(t);return o.some(t=>e.hostname.includes(t))}catch{return!0}}(t)?n(400,400,e):function(t){if(!t)return!1;try{const e=new URL(t),o=[".jpg",".jpeg",".png",".gif",".webp",".svg"];return!!["http:","https:","data:"].includes(e.protocol)&&("data:"===e.protocol?t.includes("image/"):o.some(t=>e.pathname.toLowerCase().includes(t)))}catch{return!1}}(t)?t:n(400,400,e):n(400,400,e)}const a=({src:o,alt:a,className:s="",width:c,height:l,fallbackText:i,onError:m,onLoad:u})=>{const[d,f]=e.useState(()=>r(o,i||a)),[g,h]=e.useState(!1),p=e.useCallback(t=>{h(!0),function(t,e="Image"){const o=t.target;o&&(o.src=n(400,400,e),o.alt=e)}(t,i||a),null==m||m(new Error("Image failed to load"))},[i,a,m]),w=e.useCallback(()=>{h(!1),null==u||u()},[u]);return t.jsx("img",{src:d,alt:a,className:s,width:c,height:l,onError:p,onLoad:w,style:{objectFit:"cover",backgroundColor:"#f3f4f6"}})};export{a as S};
