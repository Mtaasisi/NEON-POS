import{r as e}from"./vendor-a2ff445a.js";import{D as n}from"./index-222cfb29.js";function t(){const[t,a]=e.useState({name:"inauzwa",address:"Dar es Salaam, Tanzania",phone:"+255 123 456 789",email:void 0,website:void 0,logo:null}),[s,o]=e.useState(!0),[i,r]=e.useState(null);return e.useEffect(()=>{let e=!0;const t=async()=>{try{o(!0);const t=await n.getBusinessInfo();e&&(a(t),r(null))}catch(t){e&&r(t instanceof Error?t.message:"Failed to load business info")}finally{e&&o(!1)}};t();const s=e=>{var a;"general"===(null==(a=e.detail)?void 0:a.type)&&(n.clearCache(),t())};return window.addEventListener("settingsUpdated",s),()=>{e=!1,window.removeEventListener("settingsUpdated",s)}},[]),{businessInfo:t,loading:s,error:i}}export{t as u};
