import{j as e,aI as H,aJ as W,a as Ne}from"./index-61458a34.js";import{r as d}from"./vendor-36d2c7c1.js";import{aA as se,X as J,s as ee,a2 as re,n as p,b$ as Z,N as V,ax as _e,v as xe,R as Se,aB as Ce,u as ke,m as $e,Y as Le}from"./ui-28e30067.js";import{s as me}from"./storeLocationApi-1725ef86.js";import{B as Ee}from"./BackButton-02a80e74.js";import{a as qe}from"./routing-eb8c310c.js";import"./supabase-cf010ec4.js";const Fe=({isOpen:N,onClose:L,storageRoom:a,onSave:o})=>{const[P,T]=d.useState([]),[t,x]=d.useState(!1),[i,b]=d.useState({store_location_id:"",name:"",code:"",description:"",floor_level:1,area_sqm:"",is_secure:!1,is_active:!0});d.useEffect(()=>{N&&E()},[N]),d.useEffect(()=>{b(a?{store_location_id:a.store_location_id||"",name:a.name||"",code:a.code||"",description:a.description||"",floor_level:a.floor_level||1,area_sqm:a.area_sqm?String(a.area_sqm):"",is_secure:a.is_secure||!1,is_active:a.is_active!==!1}:{store_location_id:"",name:"",code:"",description:"",floor_level:1,area_sqm:"",is_secure:!1,is_active:!0})},[a,N]);const E=async()=>{try{const c=await me.getAll();T(c),c.length>0&&!i.store_location_id&&b(j=>({...j,store_location_id:c[0].id}))}catch(c){console.error("Error loading store locations:",c)}},w=async c=>{var j;if(c.preventDefault(),!i.store_location_id||!i.name.trim()||!i.code.trim()){p.error("Please fill in all required fields");return}x(!0);try{const y={store_location_id:i.store_location_id,name:i.name,code:i.code,description:i.description,floor_level:i.floor_level,area_sqm:i.area_sqm?parseFloat(i.area_sqm):null,is_active:i.is_active,is_secure:i.is_secure,requires_access_card:i.is_secure};a?(await H.update({id:a.id,...y}),p.success("Storage room updated successfully")):(await H.create(y),p.success("Storage room created successfully")),o(y),L()}catch(y){console.error("Save error",y),(y==null?void 0:y.code)==="23505"||(j=y==null?void 0:y.message)!=null&&j.includes("duplicate")?p.error("Room code already exists in this location"):p.error("Failed to save storage room")}finally{x(!1)}};return N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed bg-black/50",onClick:L,style:{left:"var(--sidebar-width, 0px)",top:"var(--topbar-height, 64px)",right:0,bottom:0,zIndex:35}}),e.jsx("div",{className:"fixed flex items-center justify-center p-4",style:{left:"var(--sidebar-width, 0px)",top:"var(--topbar-height, 64px)",right:0,bottom:0,zIndex:50,pointerEvents:"none"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",onClick:c=>c.stopPropagation(),style:{pointerEvents:"auto"},children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(se,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a?"Edit Storage Room":"New Storage Room"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:a?"Update room details":"Add shelves after creating the room"})]})]}),e.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(J,{className:"w-6 h-6"})})]}),e.jsx("form",{onSubmit:w,className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Room Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:i.name,onChange:c=>b({...i,name:c.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-gray-900",placeholder:"e.g., Main Storage Room",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Room Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:i.code,onChange:c=>b({...i,code:c.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-gray-900",placeholder:"e.g., 01",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Floor Level"}),e.jsx("input",{type:"number",min:1,value:i.floor_level,onChange:c=>b({...i,floor_level:parseInt(c.target.value)||1}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-gray-900"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Store Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsxs("select",{value:i.store_location_id,onChange:c=>b({...i,store_location_id:c.target.value}),className:"w-full pl-11 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-gray-900",required:!0,children:[e.jsx("option",{value:"",children:"Select location"}),P.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area (sqm)"}),e.jsx("input",{type:"number",step:"0.01",value:i.area_sqm,onChange:c=>b({...i,area_sqm:c.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-gray-900",placeholder:"e.g., 50.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:i.description,onChange:c=>b({...i,description:c.target.value}),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-gray-900 resize-none",placeholder:"Optional description"})]}),e.jsxs("div",{className:"space-y-3 border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:i.is_active,onChange:c=>b({...i,is_active:c.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Active Room"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("input",{type:"checkbox",id:"is_secure",checked:i.is_secure,onChange:c=>b({...i,is_secure:c.target.checked}),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),e.jsxs("label",{htmlFor:"is_secure",className:"text-sm font-medium text-gray-700 cursor-pointer flex items-center gap-2",children:[e.jsx(re,{size:16}),"Secure Room (requires access)"]})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:L,disabled:t,className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed bg-white",children:"Cancel"}),e.jsx("button",{type:"button",onClick:w,disabled:t,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):e.jsx(e.Fragment,{children:a?"Update Room":"Create Room"})})]})})]})})]}):null},Ae=({isOpen:N,onClose:L,shelf:a,storageRoom:o,onSave:P,preSelectedRow:T})=>{const[t,x]=d.useState({name:"",code:"",shelf_type:"standard",start_row:1,end_row:1,start_column:1,end_column:1,row_number:1,column_number:1,max_capacity:"",zone:"center",description:"",is_accessible:!0,requires_ladder:!1,is_refrigerated:!1}),[i,b]=d.useState(!1),[E,w]=d.useState([]),[c,j]=d.useState(!1);d.useEffect(()=>{N&&o&&y()},[N,o==null?void 0:o.id]);const y=async()=>{if(o)try{j(!0);const r=await W.getShelvesByStorageRoom(o.id);w(r),console.log("ðŸ“¦ Loaded existing shelves:",r.length,r.map(n=>n.code))}catch(r){console.error("Error loading existing shelves:",r)}finally{j(!1)}},B=()=>{if(E.length===0)return{startRow:1,endRow:1,startCol:1,endCol:1,code:"A1"};let r=0;E.forEach(g=>{const f=g.code.match(/([A-Z])(\d+)/);if(f){const _=f[1].charCodeAt(0)-64;parseInt(f[2]),_>r&&(r=_)}});const n=r+1,u=String.fromCharCode(64+n);return{startRow:n,endRow:n,startCol:1,endCol:1,code:`${u}1`}};d.useEffect(()=>{var r;if(N)if(a)x({name:a.name,code:a.code,shelf_type:a.shelf_type,start_row:a.row_number||1,end_row:a.row_number||1,start_column:a.column_number||1,end_column:a.column_number||1,row_number:a.row_number||1,column_number:a.column_number||1,max_capacity:((r=a.max_capacity)==null?void 0:r.toString())||"",zone:a.zone||"center",description:a.description||"",is_accessible:a.is_accessible,requires_ladder:a.requires_ladder,is_refrigerated:a.is_refrigerated});else{const n=B();x({name:"",code:n.code,shelf_type:"standard",start_row:n.startRow,end_row:n.endRow,start_column:n.startCol,end_column:n.endCol,row_number:1,column_number:1,max_capacity:"",zone:"center",description:"",is_accessible:!0,requires_ladder:!1,is_refrigerated:!1})}},[N,a==null?void 0:a.id,E,T]);const R=async r=>{if(r.preventDefault(),!o){p.error("Storage room is required");return}b(!0);try{if(a){const n=t.name.trim(),u=t.code.trim(),g={store_location_id:o.store_location_id,storage_room_id:o.id,name:n||u,code:u,shelf_type:t.shelf_type,row_number:t.row_number,column_number:t.column_number,floor_level:(o==null?void 0:o.floor_level)||1,zone:t.zone,is_active:!0,is_accessible:t.is_accessible,requires_ladder:t.requires_ladder,is_refrigerated:t.is_refrigerated,priority_order:0};t.description&&t.description.trim()&&(g.description=t.description.trim()),t.max_capacity&&parseInt(t.max_capacity)>0&&(g.max_capacity=parseInt(t.max_capacity)),await P(g)}else{const n=t.start_row||1,u=t.end_row||1,g=t.start_column||1,f=t.end_column||1,_=u-n+1,m=f-g+1,S=_*m,C=String.fromCharCode(64+n),U=String.fromCharCode(64+u);console.log(`ðŸ“¦ Creating ${S} shelves (${C}${g} to ${U}${f})...`);let M=0,k=0;const D=[];for(let v=n;v<=u;v++)for(let h=g;h<=f;h++){const q=String.fromCharCode(64+v),G=`${q}${h}`,F=o.code?`${o.code}${q}${h}`:G;if(E.some(O=>O.code===F)){console.log(`âš ï¸ Skipping ${F} - already exists`),k++,D.push(F);continue}const I={store_location_id:o.store_location_id,storage_room_id:o.id,name:F,code:F,shelf_type:t.shelf_type,row_number:v,column_number:h,floor_level:(o==null?void 0:o.floor_level)||1,zone:t.zone,is_active:!0,is_accessible:t.is_accessible,requires_ladder:t.requires_ladder,is_refrigerated:t.is_refrigerated,priority_order:(v-n)*m+(h-g)};t.max_capacity&&parseInt(t.max_capacity)>0&&(I.max_capacity=parseInt(t.max_capacity));try{await P(I),M++,console.log(`âœ… Created shelf: ${F}`)}catch(O){console.error(`âŒ Failed to create ${F}:`,O)}}if(M>0){const v=o.code||"",h=`${v}${C}${g}`,q=`${v}${U}${f}`,G=`${h} to ${q}`;p.success(`âœ… Created ${M} shelves (${G})!${k>0?` Skipped ${k} existing.`:""}`)}else k>0&&p.error(`All ${k} shelves already exist. No new shelves created.`)}}catch(n){console.error("Error saving shelf:",n),p.error("Failed to save shelf")}finally{b(!1)}};return N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed bg-black/50",onClick:L,style:{left:"var(--sidebar-width, 0px)",top:"var(--topbar-height, 64px)",right:0,bottom:0,zIndex:35}}),e.jsx("div",{className:"fixed flex items-center justify-center p-4",style:{left:"var(--sidebar-width, 0px)",top:"var(--topbar-height, 64px)",right:0,bottom:0,zIndex:50,pointerEvents:"none"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",onClick:r=>r.stopPropagation(),style:{pointerEvents:"auto"},children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Z,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a?"Edit Shelf":"Create Shelves Grid"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:a?`${o==null?void 0:o.name} (${o==null?void 0:o.code})`:`Create all shelves at once â€¢ ${o==null?void 0:o.name}`})]})]}),e.jsx("button",{onClick:L,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(J,{className:"w-6 h-6"})})]}),e.jsx("form",{onSubmit:R,className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-4",children:[a&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Shelf Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:t.code,onChange:r=>x({...t,code:r.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500 transition-colors text-gray-900",placeholder:"e.g., A1",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shelf Name"}),e.jsx("input",{type:"text",value:t.name,onChange:r=>x({...t,name:r.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500 transition-colors text-gray-900",placeholder:"Optional"})]})]}),a?e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Row Number"}),e.jsx("input",{type:"number",min:1,max:26,value:t.row_number,onChange:r=>x({...t,row_number:parseInt(r.target.value)||1}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500 transition-colors text-gray-900"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Row ",String.fromCharCode(64+(t.row_number||1))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Column Number"}),e.jsx("input",{type:"number",min:1,max:50,value:t.column_number,onChange:r=>x({...t,column_number:parseInt(r.target.value)||1}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500 transition-colors text-gray-900"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Column ",t.column_number]})]})]}):e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-center",children:"How Many Rows?"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:1,max:26,value:t.end_row-t.start_row+1,onChange:r=>{const n=Math.max(1,Math.min(26,parseInt(r.target.value)||1)),u=B();x({...t,start_row:u.startRow,end_row:u.startRow+n-1})},className:"w-full py-4 px-16 border-2 border-gray-200 rounded-lg text-center text-2xl font-bold text-gray-900 focus:outline-none focus:border-purple-500 transition-colors [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"1"}),e.jsx("button",{type:"button",onClick:()=>{const r=t.end_row-t.start_row+1,n=Math.max(1,r-1),u=B();x({...t,start_row:u.startRow,end_row:u.startRow+n-1})},className:"absolute left-1 top-1/2 -translate-y-1/2 w-12 h-12 bg-gray-500 hover:bg-gray-600 text-white rounded-lg flex items-center justify-center text-2xl font-bold transition-colors",children:"âˆ’"}),e.jsx("button",{type:"button",onClick:()=>{const r=t.end_row-t.start_row+1,n=Math.min(26,r+1),u=B();x({...t,start_row:u.startRow,end_row:u.startRow+n-1})},className:"absolute right-1 top-1/2 -translate-y-1/2 w-12 h-12 bg-purple-600 hover:bg-purple-700 text-white rounded-lg flex items-center justify-center text-2xl font-bold transition-colors",children:"+"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center font-medium",children:["Starting from Row ",String.fromCharCode(64+(t.start_row||1))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 text-center",children:"How Many Columns?"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:1,max:50,value:t.end_column-t.start_column+1,onChange:r=>{const n=Math.max(1,Math.min(50,parseInt(r.target.value)||1));x({...t,start_column:1,end_column:n})},className:"w-full py-4 px-16 border-2 border-gray-200 rounded-lg text-center text-2xl font-bold text-gray-900 focus:outline-none focus:border-purple-500 transition-colors [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"1"}),e.jsx("button",{type:"button",onClick:()=>{const r=t.end_column-t.start_column+1,n=Math.max(1,r-1);x({...t,start_column:1,end_column:n})},className:"absolute left-1 top-1/2 -translate-y-1/2 w-12 h-12 bg-gray-500 hover:bg-gray-600 text-white rounded-lg flex items-center justify-center text-2xl font-bold transition-colors",children:"âˆ’"}),e.jsx("button",{type:"button",onClick:()=>{const r=t.end_column-t.start_column+1,n=Math.min(50,r+1);x({...t,start_column:1,end_column:n})},className:"absolute right-1 top-1/2 -translate-y-1/2 w-12 h-12 bg-purple-600 hover:bg-purple-700 text-white rounded-lg flex items-center justify-center text-2xl font-bold transition-colors",children:"+"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center font-medium",children:["Columns 1 to ",t.end_column]})]})]})}),e.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-purple-600"}),e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Grid Layout Preview"})]}),e.jsx("div",{className:"bg-purple-100 px-3 py-1 rounded-full",children:e.jsx("span",{className:"text-xs font-bold text-purple-900",children:(()=>{if(a)return t.code;const r=(o==null?void 0:o.code)||"",n=String.fromCharCode(64+t.start_row),u=String.fromCharCode(64+t.end_row),g=`${r}${n}${t.start_column}`,f=`${r}${u}${t.end_column}`;return`${g} â†’ ${f}`})()})})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg overflow-x-auto",children:e.jsx("div",{className:"inline-block",children:(()=>{const r=a?1:t.start_row||1,n=a?t.row_number||1:t.end_row||1,u=a?1:t.start_column||1,g=a?t.column_number||1:t.end_column||1,f=Array.from({length:n-r+1},(m,S)=>r+S),_=Array.from({length:g-u+1},(m,S)=>u+S);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex mb-2",children:[e.jsx("div",{className:"w-12"}),_.map(m=>e.jsxs("div",{className:"w-20 text-center text-xs font-medium text-gray-600",children:["Col ",m]},m))]}),f.map(m=>{const S=String.fromCharCode(64+m);return e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-12 text-center",children:e.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-purple-600 text-white rounded font-bold text-sm",children:S})}),_.map(C=>{const U=`${S}${C}`,M=o!=null&&o.code?`${o.code}${S}${C}`:U,k=E.find(q=>q.code===M),D=!!k&&!a,v=!D&&!a,h=a&&m===t.row_number&&C===t.column_number;return e.jsx("div",{className:"w-20 px-1",children:e.jsxs("div",{className:`h-16 rounded-lg border-2 flex flex-col items-center justify-center transition-all ${D?"bg-gray-300 border-gray-400 cursor-not-allowed opacity-60":v||h?"bg-purple-600 border-purple-700":"bg-white border-gray-300"}`,title:D?`Already exists: ${k.code}`:`Will create: ${M}`,children:[e.jsx("div",{className:`font-mono font-bold text-xs ${D?"text-gray-600":v||h?"text-white":"text-gray-700"}`,children:M}),(v||h)&&e.jsx("div",{className:"text-[10px] text-white font-medium mt-0.5",children:h?"EDIT":"NEW"}),D&&e.jsx("div",{className:"text-[10px] text-gray-600 font-medium mt-0.5",children:"TAKEN"})]})},C)})]},m)})]})})()})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Max Capacity ",!a&&"(per shelf)"]}),e.jsx("input",{type:"number",min:1,value:t.max_capacity,onChange:r=>x({...t,max_capacity:r.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500 transition-colors text-gray-900",placeholder:"Optional"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum items each shelf can hold"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shelf Type"}),e.jsxs("select",{value:t.shelf_type,onChange:r=>x({...t,shelf_type:r.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500 transition-colors text-gray-900",children:[e.jsx("option",{value:"standard",children:"Standard"}),e.jsx("option",{value:"refrigerated",children:"Refrigerated"}),e.jsx("option",{value:"display",children:"Display"}),e.jsx("option",{value:"storage",children:"Storage"}),e.jsx("option",{value:"specialty",children:"Specialty"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zone"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsxs("select",{value:t.zone,onChange:r=>x({...t,zone:r.target.value}),className:"w-full pl-11 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500 transition-colors text-gray-900",children:[e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"front",children:"Front"}),e.jsx("option",{value:"back",children:"Back"}),e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"right",children:"Right"})]})]})]})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:t.description,onChange:r=>x({...t,description:r.target.value}),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-purple-500 transition-colors text-gray-900 resize-none",placeholder:"Optional description"})]}),e.jsxs("div",{className:"space-y-3 border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("input",{type:"checkbox",id:"is_accessible",checked:t.is_accessible,onChange:r=>x({...t,is_accessible:r.target.checked}),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),e.jsx("label",{htmlFor:"is_accessible",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Easily accessible"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("input",{type:"checkbox",id:"requires_ladder",checked:t.requires_ladder,onChange:r=>x({...t,requires_ladder:r.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("label",{htmlFor:"requires_ladder",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Requires ladder"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("input",{type:"checkbox",id:"is_refrigerated",checked:t.is_refrigerated,onChange:r=>x({...t,is_refrigerated:r.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_refrigerated",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Refrigerated shelf"})]})]})]})]})}),e.jsx("div",{className:"flex-shrink-0 p-6 pt-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:L,disabled:i,className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed bg-white",children:"Cancel"}),e.jsx("button",{type:"button",onClick:R,disabled:i,className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):a?"Update Shelf":(()=>{const r=(t.end_row-t.start_row+1)*(t.end_column-t.start_column+1);return`Create ${r} Shelf${r!==1?"es":""}`})()})]})})]})})]}):null},Ue=()=>{qe();const{startLoading:N,completeLoading:L,failLoading:a}=Ne(),[o,P]=d.useState([]),[T,t]=d.useState([]),[x,i]=d.useState([]),[b,E]=d.useState(!1),[w,c]=d.useState(""),[j,y]=d.useState("all"),[B,R]=d.useState(!1),[r,n]=d.useState(null),[u,g]=d.useState(!1),[f,_]=d.useState(null),[m,S]=d.useState(null),[C,U]=d.useState([]),[M,k]=d.useState(!1),[D,v]=d.useState(!1),[h,q]=d.useState(""),[G,F]=d.useState(void 0),[I,O]=d.useState(""),[K,ue]=d.useState({total:0,active:0,secure:0,totalShelves:0,activeShelves:0});d.useEffect(()=>{X()},[]),d.useEffect(()=>{he()},[o,w,j]);const X=async()=>{const s=N("Loading storage rooms...");try{E(!0);const[l,$,A]=await Promise.all([H.getAll().catch(z=>(console.error("âŒ Failed to load rooms:",z),[])),me.getAll().catch(z=>(console.error("âŒ Failed to load locations:",z),[])),H.getStats().catch(z=>(console.error("âŒ Failed to load stats:",z),{total:0,active:0,secure:0,totalShelves:0,activeShelves:0}))]);P(l||[]),t($||[]),ue(A||{total:0,active:0,secure:0,totalShelves:0,activeShelves:0}),L(s)}catch(l){console.error("âŒ Error in optimized batch load:",l),a(s,"Failed to load storage rooms"),p.error("Failed to load storage room data")}finally{E(!1)}},he=()=>{let s=o;w&&(s=s.filter(l=>l.name.toLowerCase().includes(w.toLowerCase())||l.code.toLowerCase().includes(w.toLowerCase()))),j!=="all"&&(s=s.filter(l=>l.store_location_id===j)),i(s)},ae=()=>{n(null),R(!0)},ge=s=>{n(s),R(!0)},pe=async s=>{if(confirm(`Are you sure you want to delete "${s.name}"?`))try{await H.delete(s.id),p.success("Storage room deleted successfully"),X()}catch(l){console.error("Error deleting storage room:",l),p.error("Failed to delete storage room")}},le=()=>{R(!1),n(null)},be=async()=>{await X(),le()},fe=async s=>{S(s),v(!0),await te(s.id)},te=async s=>{try{k(!0),console.log("ðŸ“¦ Loading shelves for room:",s);const l=await W.getShelvesByStorageRoom(s);console.log("âœ… Loaded shelves:",l.length,"shelves",l),U(l)}catch(l){console.error("âŒ Error loading room shelves:",l),p.error("Failed to load shelves")}finally{k(!1)}},oe=s=>{_(null),F(s),g(!0)},ne=s=>{_(s),g(!0)},ye=async s=>{if(confirm(`Are you sure you want to delete shelf "${s.code}"?`))try{await W.delete(s.id),p.success("Shelf deleted successfully"),m&&await te(m.id)}catch(l){console.error("Error deleting shelf:",l),p.error("Failed to delete shelf")}},ie=()=>{g(!1),_(null),F(void 0)},ve=async s=>{try{if(f)await W.update(f.id,s),p.success("Shelf updated successfully");else{const l=await W.create(s);console.log("âœ… Shelf created:",l),p.success("Shelf created successfully")}m&&(console.log("ðŸ”„ Refreshing shelf list for room:",m.id),await te(m.id)),ie()}catch(l){throw console.error("âŒ Error saving shelf:",l),p.error((l==null?void 0:l.message)||"Failed to save shelf"),l}},ce=s=>{const l=T.find($=>$.id===s);return l?l.name:"Unknown"},Y=C.filter(s=>!h||s.code.toLowerCase().includes(h.toLowerCase())||s.name&&s.name.toLowerCase().includes(h.toLowerCase())),je=()=>{const s=new Set;return Y.forEach(l=>{var A;const $=((A=l.code)==null?void 0:A.toUpperCase())||"";for(let z=0;z<$.length;z++){const Q=$[z];if(Q>="A"&&Q<="Z"){s.add(Q);break}}}),Array.from(s).sort()};return Y.reduce((s,l)=>{const $=l.code.match(/([A-Z])(\d+)$/),A=$?$[1]:"Other";return s[A]||(s[A]=[]),s[A].push(l),s},{}),b?e.jsx("div",{className:"p-4 sm:p-6 max-w-7xl mx-auto space-y-6",children:e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600 font-medium",children:"Loading storage rooms..."})]})}):e.jsxs("div",{className:"p-4 sm:p-6 max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ee,{to:"/dashboard"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Storage Rooms"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage storage rooms and shelves"})]})]}),e.jsxs("button",{onClick:ae,className:"flex items-center gap-2 px-5 py-2.5 rounded-lg font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(V,{size:18}),"New Room"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-5 hover:bg-blue-100 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(se,{className:"w-7 h-7 text-blue-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Rooms"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:K.total})]})]})}),e.jsx("div",{className:"bg-green-50 rounded-lg p-5 hover:bg-green-100 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_e,{className:"w-7 h-7 text-green-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:K.active})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-5 hover:bg-purple-100 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{className:"w-7 h-7 text-purple-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Shelves"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:K.totalShelves})]})]})}),e.jsx("div",{className:"bg-red-50 rounded-lg p-5 hover:bg-red-100 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(re,{className:"w-7 h-7 text-red-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Secure"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:K.secure})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg border-2 border-gray-200 p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 w-full md:w-auto min-w-[300px]",children:[e.jsx(xe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search storage rooms...",value:w,onChange:s=>c(s.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),w&&e.jsx("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(J,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:j,onChange:s=>y(s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"all",children:"All Locations"}),T.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("button",{onClick:X,className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:e.jsx(Se,{className:"w-4 h-4"})})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border-2 border-gray-200 p-6",children:x.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ce,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No storage rooms found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:w||j!=="all"?"Try adjusting your search or filters":"Create your first storage room to get started"}),!w&&j==="all"&&e.jsxs("button",{onClick:ae,className:"flex items-center gap-2 px-5 py-2.5 rounded-lg text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors mx-auto",children:[e.jsx(V,{size:18}),"Add Storage Room"]})]}):e.jsx("div",{className:"space-y-3",children:x.map(s=>e.jsx("div",{className:"border-2 rounded-lg p-4 hover:border-gray-300 transition-colors bg-white border-gray-200",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.name}),e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-600 font-mono",children:s.code}),s.is_secure&&e.jsxs("span",{className:"px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-700 flex items-center gap-1",children:[e.jsx(re,{size:12}),"Secure"]}),!s.is_active&&e.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded",children:"Inactive"})]}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ee,{size:14}),e.jsx("span",{children:ce(s.store_location_id)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ke,{size:14}),e.jsxs("span",{children:["Floor ",s.floor_level]})]}),s.area_sqm&&e.jsxs("span",{children:[s.area_sqm," sqm"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>fe(s),className:"flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium bg-purple-600 text-white hover:bg-purple-700 transition-colors",title:"Manage Shelves",children:[e.jsx(Z,{size:13}),"Shelves"]}),e.jsx("button",{onClick:()=>ge(s),className:"flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium bg-gray-600 text-white hover:bg-gray-700 transition-colors",title:"Edit",children:e.jsx($e,{size:13})}),e.jsx("button",{onClick:()=>pe(s),className:"flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium bg-red-600 text-white hover:bg-red-700 transition-colors",title:"Delete",children:e.jsx(Le,{size:13})})]})]})},s.id))})}),D&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[9999]",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(se,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:m.name}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ee,{className:"w-3 h-3"}),ce(m.store_location_id)]}),e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-0.5 rounded",children:m.code}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"w-3 h-3"}),C.length," shelves"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium bg-purple-600 text-white hover:bg-purple-700 transition-colors text-sm",children:[e.jsx(V,{size:16}),"Add Shelves"]}),e.jsx("button",{onClick:()=>{v(!1),q("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(J,{className:"w-6 h-6"})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[C.length>0&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(xe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search shelves by code or name...",value:h,onChange:s=>q(s.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"}),h&&e.jsx("button",{onClick:()=>q(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(J,{className:"w-4 h-4"})})]})}),M?e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),e.jsx("span",{className:"ml-3 text-gray-600 font-medium",children:"Loading shelves..."})]}):Y.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No shelves found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:h?"Try a different search term":"This storage room doesn't have any shelves yet"}),!h&&e.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-5 py-2.5 rounded-lg text-sm font-medium bg-purple-600 text-white hover:bg-purple-700 transition-colors mx-auto",children:[e.jsx(V,{size:18}),"Create Shelf Grid"]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>O(""),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${I===""?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:"All"}),je().map(s=>e.jsx("button",{onClick:()=>O(I===s?"":s),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${I===s?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:s},s))]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2",children:Y.filter(s=>{var l;return I?(((l=s.code)==null?void 0:l.toUpperCase())||"").includes(I):!0}).sort((s,l)=>(s.code||"").localeCompare(l.code||"")).map(s=>{var de;const l=(m==null?void 0:m.code)||"",$=l&&!s.code.startsWith(l)?`${l}${s.code}`:s.code,A=((de=s.code.toUpperCase().match(/[A-Z]/))==null?void 0:de[0])||"",Q=(we=>({A:"bg-blue-500",B:"bg-green-500",C:"bg-purple-500",D:"bg-orange-500",E:"bg-red-500",F:"bg-teal-500",G:"bg-pink-500",H:"bg-indigo-500",I:"bg-emerald-500",J:"bg-cyan-500",K:"bg-lime-500",L:"bg-amber-500",M:"bg-rose-500",N:"bg-violet-500",O:"bg-sky-500",P:"bg-fuchsia-500",Q:"bg-slate-500",R:"bg-zinc-500",S:"bg-stone-500",T:"bg-neutral-500",U:"bg-yellow-500",V:"bg-orange-600",W:"bg-red-600",X:"bg-pink-600",Y:"bg-purple-600",Z:"bg-indigo-600"})[we]||"bg-gray-500")(A);return e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-3 hover:border-purple-400 hover:shadow-md transition-all",children:[e.jsx("button",{onClick:()=>ne(s),className:`w-full py-3 px-2 rounded-lg border-2 font-bold text-center text-white text-sm ${Q} border-transparent hover:border-white transition-all`,title:"Edit shelf",children:$}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${s.is_active?"bg-green-500":"bg-red-500"}`}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>ne(s),className:"px-2 py-1 rounded text-[10px] font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",title:"Edit",children:"Edit"}),e.jsx("button",{onClick:()=>ye(s),className:"px-2 py-1 rounded text-[10px] font-medium bg-red-100 text-red-700 hover:bg-red-200 transition-colors",title:"Delete",children:"Delete"})]})]})]},s.id)})})]})]})]})}),e.jsx(Fe,{isOpen:B,onClose:le,storageRoom:r,onSave:be}),e.jsx(Ae,{isOpen:u,onClose:ie,shelf:f,storageRoom:m,onSave:ve,preSelectedRow:G})]})};export{Ue as default};
