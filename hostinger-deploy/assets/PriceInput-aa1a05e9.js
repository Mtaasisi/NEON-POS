import{j as a}from"./index-61458a34.js";import{R as P,r as c}from"./vendor-36d2c7c1.js";import{q as R}from"./ui-28e30067.js";const $=P.forwardRef(({value:s,onChange:u,placeholder:x="0",className:y="",disabled:b=!1,min:h=0,max:N,step:F=.01,label:d,error:n},j)=>{const[S,o]=c.useState(""),[m,f]=c.useState(!1),l=t=>{if(!t&&t!==0)return"";const e=typeof t=="string"?parseFloat(t.replace(/,/g,"")):t;return isNaN(e)?"":e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})};c.useEffect(()=>{m||o(s===0||s===""?"":l(s))},[s,m]);const V=t=>{const e=t.target.value;if(e===""||e==="0"){o(""),u(0);return}const i=e.replace(/,/g,"");if(/^\d*\.?\d*$/.test(i)){o(e);const r=parseFloat(i);isNaN(r)||u(r)}},w=()=>{f(!0),s&&s!==0&&o(s.toString())},D=()=>{f(!1),o(s&&s!==0?l(s):"")},k=t=>{(t.key===","||t.key>="0"&&t.key<="9")&&setTimeout(()=>{const e=t.target,i=e.selectionStart,r=e.value.replace(/,/g,"");if(r&&!isNaN(parseFloat(r))){const p=l(parseFloat(r));o(p),setTimeout(()=>{const g=p.length-(r.length-(i||0));e.setSelectionRange(g,g)},0)}},0)};return a.jsxs("div",{children:[d&&a.jsx("label",{className:`block mb-2 font-medium ${n?"text-red-600":"text-gray-700"}`,children:d}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:j,type:"text",value:S,onChange:V,onFocus:w,onBlur:D,onKeyDown:k,placeholder:x,className:`w-full py-3 pl-12 pr-3 bg-white/30 backdrop-blur-md border-2 rounded-lg text-center text-lg font-semibold text-gray-900 border-gray-300 focus:outline-none focus:border-blue-500 transition-colors ${n?"border-red-500":""} ${y}`,disabled:b,min:h,max:N,step:F}),a.jsx(R,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:18})]}),n&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n})]})});$.displayName="PriceInput";export{$ as P};
