import{j as e,E as h,e as m,G as x}from"./index-61458a34.js";import{a as g}from"./routing-eb8c310c.js";import{e as u,R as j,h as p,H as f}from"./ui-28e30067.js";const y=({error:a,errorInfo:t,retry:r,pageName:c="this page",showDetails:i=!1})=>{const n=g(),l=()=>{n(-1)},o=()=>{n("/dashboard")},d=s=>s.message.includes("NetworkError")||s.message.includes("fetch")?"Network connection issue. Please check your internet connection and try again.":s.message.includes("permission")||s.message.includes("unauthorized")?"You don't have permission to access this content. Please contact your administrator.":s.message.includes("not found")||s.message.includes("404")?"The requested content could not be found. It may have been moved or deleted.":s.message.includes("timeout")?"The request took too long to complete. Please try again.":s.message||"An unexpected error occurred while loading this page.";return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:e.jsx(m,{className:"max-w-2xl w-full p-8",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-4 bg-red-100 rounded-full",children:e.jsx(u,{className:"w-12 h-12 text-red-600"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Page Error"}),e.jsxs("p",{className:"text-gray-600",children:["There was a problem loading ",c,". We're working to fix this issue."]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"What happened:"}),e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:d(a)}),i&&t&&e.jsxs("details",{className:"text-sm text-gray-600",children:[e.jsx("summary",{className:"cursor-pointer hover:text-gray-800 mb-2",children:"Show technical details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Error:"})," ",a.name]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Message:"})," ",a.message]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Stack:"}),e.jsx("pre",{className:"bg-gray-100 p-3 rounded text-xs overflow-auto max-h-32 mt-1",children:a.stack})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Component Stack:"}),e.jsx("pre",{className:"bg-gray-100 p-3 rounded text-xs overflow-auto max-h-32 mt-1",children:t.componentStack})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(x,{onClick:r,icon:e.jsx(j,{className:"w-4 h-4"}),className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Try Again"}),e.jsx(x,{onClick:l,variant:"secondary",icon:e.jsx(p,{className:"w-4 h-4"}),children:"Go Back"}),e.jsx(x,{onClick:o,variant:"secondary",icon:e.jsx(f,{className:"w-4 h-4"}),children:"Go Home"})]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("p",{children:"If this problem persists, try:"}),e.jsxs("ul",{className:"text-left space-y-1",children:[e.jsx("li",{children:"• Refreshing the page"}),e.jsx("li",{children:"• Checking your internet connection"}),e.jsx("li",{children:"• Clearing your browser cache"}),e.jsx("li",{children:"• Contacting support if the issue continues"})]})]})]})})})},w=({children:a,pageName:t,showDetails:r=!1,onError:c,maxRetries:i=3})=>{const n=({error:l,errorInfo:o,retry:d})=>e.jsx(y,{error:l,errorInfo:o,retry:d,pageName:t,showDetails:r});return e.jsx(h,{fallback:n,onError:c,maxRetries:i,children:a})};export{w as P};
