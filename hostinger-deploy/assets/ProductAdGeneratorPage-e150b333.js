import{j as r,e as pt,G as bt}from"./index-61458a34.js";import{c as jt,g as $t,r as dt,R as Ht}from"./vendor-36d2c7c1.js";import{E as Kt}from"./pdf-e6e38bab.js";import Bt from"./html2canvas.esm-6bd083a4.js";import{a as Ft}from"./routing-eb8c310c.js";import{h as Lt,u as Ut,a8 as Nt,ag as It,G as St,l as Vt,D as Ct,ah as Ot,Z as Rt,b1 as Yt,a3 as qt,o as Xt,a4 as Jt}from"./ui-28e30067.js";import"./supabase-cf010ec4.js";function zt(ut){throw new Error('Could not dynamically require "'+ut+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Wt={exports:{}};(function(ut,mt){(function(f){ut.exports=f()})(function(){return function f(R,j,l){function d(y,w){if(!j[y]){if(!R[y]){var x=typeof zt=="function"&&zt;if(!w&&x)return x(y,!0);if(a)return a(y,!0);var _=new Error("Cannot find module '"+y+"'");throw _.code="MODULE_NOT_FOUND",_}var s=j[y]={exports:{}};R[y][0].call(s.exports,function(m){var n=R[y][1][m];return d(n||m)},s,s.exports,f,R,j,l)}return j[y].exports}for(var a=typeof zt=="function"&&zt,u=0;u<l.length;u++)d(l[u]);return d}({1:[function(f,R,j){var l=f("./utils"),d=f("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";j.encode=function(u){for(var y,w,x,_,s,m,n,h=[],c=0,g=u.length,v=g,z=l.getTypeOf(u)!=="string";c<u.length;)v=g-c,x=z?(y=u[c++],w=c<g?u[c++]:0,c<g?u[c++]:0):(y=u.charCodeAt(c++),w=c<g?u.charCodeAt(c++):0,c<g?u.charCodeAt(c++):0),_=y>>2,s=(3&y)<<4|w>>4,m=1<v?(15&w)<<2|x>>6:64,n=2<v?63&x:64,h.push(a.charAt(_)+a.charAt(s)+a.charAt(m)+a.charAt(n));return h.join("")},j.decode=function(u){var y,w,x,_,s,m,n=0,h=0,c="data:";if(u.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var g,v=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===a.charAt(64)&&v--,u.charAt(u.length-2)===a.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=d.uint8array?new Uint8Array(0|v):new Array(0|v);n<u.length;)y=a.indexOf(u.charAt(n++))<<2|(_=a.indexOf(u.charAt(n++)))>>4,w=(15&_)<<4|(s=a.indexOf(u.charAt(n++)))>>2,x=(3&s)<<6|(m=a.indexOf(u.charAt(n++))),g[h++]=y,s!==64&&(g[h++]=w),m!==64&&(g[h++]=x);return g}},{"./support":30,"./utils":32}],2:[function(f,R,j){var l=f("./external"),d=f("./stream/DataWorker"),a=f("./stream/Crc32Probe"),u=f("./stream/DataLengthProbe");function y(w,x,_,s,m){this.compressedSize=w,this.uncompressedSize=x,this.crc32=_,this.compression=s,this.compressedContent=m}y.prototype={getContentWorker:function(){var w=new d(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),x=this;return w.on("end",function(){if(this.streamInfo.data_length!==x.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new d(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(w,x,_){return w.pipe(new a).pipe(new u("uncompressedSize")).pipe(x.compressWorker(_)).pipe(new u("compressedSize")).withStreamInfo("compression",x)},R.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,R,j){var l=f("./stream/GenericWorker");j.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},j.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,R,j){var l=f("./utils"),d=function(){for(var a,u=[],y=0;y<256;y++){a=y;for(var w=0;w<8;w++)a=1&a?3988292384^a>>>1:a>>>1;u[y]=a}return u}();R.exports=function(a,u){return a!==void 0&&a.length?l.getTypeOf(a)!=="string"?function(y,w,x,_){var s=d,m=_+x;y^=-1;for(var n=_;n<m;n++)y=y>>>8^s[255&(y^w[n])];return-1^y}(0|u,a,a.length,0):function(y,w,x,_){var s=d,m=_+x;y^=-1;for(var n=_;n<m;n++)y=y>>>8^s[255&(y^w.charCodeAt(n))];return-1^y}(0|u,a,a.length,0):0}},{"./utils":32}],5:[function(f,R,j){j.base64=!1,j.binary=!1,j.dir=!1,j.createFolders=!0,j.date=null,j.compression=null,j.compressionOptions=null,j.comment=null,j.unixPermissions=null,j.dosPermissions=null},{}],6:[function(f,R,j){var l=null;l=typeof Promise<"u"?Promise:f("lie"),R.exports={Promise:l}},{lie:37}],7:[function(f,R,j){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=f("pako"),a=f("./utils"),u=f("./stream/GenericWorker"),y=l?"uint8array":"array";function w(x,_){u.call(this,"FlateWorker/"+x),this._pako=null,this._pakoAction=x,this._pakoOptions=_,this.meta={}}j.magic="\b\0",a.inherits(w,u),w.prototype.processChunk=function(x){this.meta=x.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(y,x.data),!1)},w.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var x=this;this._pako.onData=function(_){x.push({data:_,meta:x.meta})}},j.compressWorker=function(x){return new w("Deflate",x)},j.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,R,j){function l(s,m){var n,h="";for(n=0;n<m;n++)h+=String.fromCharCode(255&s),s>>>=8;return h}function d(s,m,n,h,c,g){var v,z,S=s.file,F=s.compression,E=g!==y.utf8encode,L=a.transformTo("string",g(S.name)),I=a.transformTo("string",y.utf8encode(S.name)),Z=S.comment,K=a.transformTo("string",g(Z)),b=a.transformTo("string",y.utf8encode(Z)),T=I.length!==S.name.length,e=b.length!==Z.length,P="",J="",W="",Q=S.dir,M=S.date,X={crc32:0,compressedSize:0,uncompressedSize:0};m&&!n||(X.crc32=s.crc32,X.compressedSize=s.compressedSize,X.uncompressedSize=s.uncompressedSize);var B=0;m&&(B|=8),E||!T&&!e||(B|=2048);var A=0,q=0;Q&&(A|=16),c==="UNIX"?(q=798,A|=function($,st){var ct=$;return $||(ct=st?16893:33204),(65535&ct)<<16}(S.unixPermissions,Q)):(q=20,A|=function($){return 63&($||0)}(S.dosPermissions)),v=M.getUTCHours(),v<<=6,v|=M.getUTCMinutes(),v<<=5,v|=M.getUTCSeconds()/2,z=M.getUTCFullYear()-1980,z<<=4,z|=M.getUTCMonth()+1,z<<=5,z|=M.getUTCDate(),T&&(J=l(1,1)+l(w(L),4)+I,P+="up"+l(J.length,2)+J),e&&(W=l(1,1)+l(w(K),4)+b,P+="uc"+l(W.length,2)+W);var V="";return V+=`
\0`,V+=l(B,2),V+=F.magic,V+=l(v,2),V+=l(z,2),V+=l(X.crc32,4),V+=l(X.compressedSize,4),V+=l(X.uncompressedSize,4),V+=l(L.length,2),V+=l(P.length,2),{fileRecord:x.LOCAL_FILE_HEADER+V+L+P,dirRecord:x.CENTRAL_FILE_HEADER+l(q,2)+V+l(K.length,2)+"\0\0\0\0"+l(A,4)+l(h,4)+L+P+K}}var a=f("../utils"),u=f("../stream/GenericWorker"),y=f("../utf8"),w=f("../crc32"),x=f("../signature");function _(s,m,n,h){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=n,this.encodeFileName=h,this.streamFiles=s,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(_,u),_.prototype.push=function(s){var m=s.meta.percent||0,n=this.entriesCount,h=this._sources.length;this.accumulate?this.contentBuffer.push(s):(this.bytesWritten+=s.data.length,u.prototype.push.call(this,{data:s.data,meta:{currentFile:this.currentFile,percent:n?(m+100*(n-h-1))/n:100}}))},_.prototype.openedSource=function(s){this.currentSourceOffset=this.bytesWritten,this.currentFile=s.file.name;var m=this.streamFiles&&!s.file.dir;if(m){var n=d(s,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(s){this.accumulate=!1;var m=this.streamFiles&&!s.file.dir,n=d(s,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),m)this.push({data:function(h){return x.DATA_DESCRIPTOR+l(h.crc32,4)+l(h.compressedSize,4)+l(h.uncompressedSize,4)}(s),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var s=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var n=this.bytesWritten-s,h=function(c,g,v,z,S){var F=a.transformTo("string",S(z));return x.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(c,2)+l(c,2)+l(g,4)+l(v,4)+l(F.length,2)+F}(this.dirRecords.length,n,s,this.zipComment,this.encodeFileName);this.push({data:h,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(s){this._sources.push(s);var m=this;return s.on("data",function(n){m.processChunk(n)}),s.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),s.on("error",function(n){m.error(n)}),this},_.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(s){var m=this._sources;if(!u.prototype.error.call(this,s))return!1;for(var n=0;n<m.length;n++)try{m[n].error(s)}catch{}return!0},_.prototype.lock=function(){u.prototype.lock.call(this);for(var s=this._sources,m=0;m<s.length;m++)s[m].lock()},R.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,R,j){var l=f("../compressions"),d=f("./ZipFileWorker");j.generateWorker=function(a,u,y){var w=new d(u.streamFiles,y,u.platform,u.encodeFileName),x=0;try{a.forEach(function(_,s){x++;var m=function(g,v){var z=g||v,S=l[z];if(!S)throw new Error(z+" is not a valid compression method !");return S}(s.options.compression,u.compression),n=s.options.compressionOptions||u.compressionOptions||{},h=s.dir,c=s.date;s._compressWorker(m,n).withStreamInfo("file",{name:_,dir:h,date:c,comment:s.comment||"",unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions}).pipe(w)}),w.entriesCount=x}catch(_){w.error(_)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,R,j){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new l;for(var a in this)typeof this[a]!="function"&&(d[a]=this[a]);return d}}(l.prototype=f("./object")).loadAsync=f("./load"),l.support=f("./support"),l.defaults=f("./defaults"),l.version="3.10.1",l.loadAsync=function(d,a){return new l().loadAsync(d,a)},l.external=f("./external"),R.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,R,j){var l=f("./utils"),d=f("./external"),a=f("./utf8"),u=f("./zipEntries"),y=f("./stream/Crc32Probe"),w=f("./nodejsUtils");function x(_){return new d.Promise(function(s,m){var n=_.decompressed.getContentWorker().pipe(new y);n.on("error",function(h){m(h)}).on("end",function(){n.streamInfo.crc32!==_.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):s()}).resume()})}R.exports=function(_,s){var m=this;return s=l.extend(s||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),w.isNode&&w.isStream(_)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",_,!0,s.optimizedBinaryString,s.base64).then(function(n){var h=new u(s);return h.load(n),h}).then(function(n){var h=[d.Promise.resolve(n)],c=n.files;if(s.checkCRC32)for(var g=0;g<c.length;g++)h.push(x(c[g]));return d.Promise.all(h)}).then(function(n){for(var h=n.shift(),c=h.files,g=0;g<c.length;g++){var v=c[g],z=v.fileNameStr,S=l.resolve(v.fileNameStr);m.file(S,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:s.createFolders}),v.dir||(m.file(S).unsafeOriginalName=z)}return h.zipComment.length&&(m.comment=h.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,R,j){var l=f("../utils"),d=f("../stream/GenericWorker");function a(u,y){d.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(y)}l.inherits(a,d),a.prototype._bindStream=function(u){var y=this;(this._stream=u).pause(),u.on("data",function(w){y.push({data:w,meta:{percent:0}})}).on("error",function(w){y.isPaused?this.generatedError=w:y.error(w)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},a.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},R.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,R,j){var l=f("readable-stream").Readable;function d(a,u,y){l.call(this,u),this._helper=a;var w=this;a.on("data",function(x,_){w.push(x)||w._helper.pause(),y&&y(_)}).on("error",function(x){w.emit("error",x)}).on("end",function(){w.push(null)})}f("../utils").inherits(d,l),d.prototype._read=function(){this._helper.resume()},R.exports=d},{"../utils":32,"readable-stream":16}],14:[function(f,R,j){R.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,d);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,d)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var d=new Buffer(l);return d.fill(0),d},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(f,R,j){function l(S,F,E){var L,I=a.getTypeOf(F),Z=a.extend(E||{},w);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(S=c(S)),Z.createFolders&&(L=h(S))&&g.call(this,L,!0);var K=I==="string"&&Z.binary===!1&&Z.base64===!1;E&&E.binary!==void 0||(Z.binary=!K),(F instanceof x&&F.uncompressedSize===0||Z.dir||!F||F.length===0)&&(Z.base64=!1,Z.binary=!0,F="",Z.compression="STORE",I="string");var b=null;b=F instanceof x||F instanceof u?F:m.isNode&&m.isStream(F)?new n(S,F):a.prepareContent(S,F,Z.binary,Z.optimizedBinaryString,Z.base64);var T=new _(S,b,Z);this.files[S]=T}var d=f("./utf8"),a=f("./utils"),u=f("./stream/GenericWorker"),y=f("./stream/StreamHelper"),w=f("./defaults"),x=f("./compressedObject"),_=f("./zipObject"),s=f("./generate"),m=f("./nodejsUtils"),n=f("./nodejs/NodejsStreamInputAdapter"),h=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var F=S.lastIndexOf("/");return 0<F?S.substring(0,F):""},c=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},g=function(S,F){return F=F!==void 0?F:w.createFolders,S=c(S),this.files[S]||l.call(this,S,null,{dir:!0,createFolders:F}),this.files[S]};function v(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var F,E,L;for(F in this.files)L=this.files[F],(E=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&S(E,L)},filter:function(S){var F=[];return this.forEach(function(E,L){S(E,L)&&F.push(L)}),F},file:function(S,F,E){if(arguments.length!==1)return S=this.root+S,l.call(this,S,F,E),this;if(v(S)){var L=S;return this.filter(function(Z,K){return!K.dir&&L.test(Z)})}var I=this.files[this.root+S];return I&&!I.dir?I:null},folder:function(S){if(!S)return this;if(v(S))return this.filter(function(I,Z){return Z.dir&&S.test(I)});var F=this.root+S,E=g.call(this,F),L=this.clone();return L.root=E.name,L},remove:function(S){S=this.root+S;var F=this.files[S];if(F||(S.slice(-1)!=="/"&&(S+="/"),F=this.files[S]),F&&!F.dir)delete this.files[S];else for(var E=this.filter(function(I,Z){return Z.name.slice(0,S.length)===S}),L=0;L<E.length;L++)delete this.files[E[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var F,E={};try{if((E=a.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");a.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var L=E.comment||this.comment||"";F=s.generateWorker(this,E,L)}catch(I){(F=new u("error")).error(I)}return new y(F,E.type||"string",E.mimeType)},generateAsync:function(S,F){return this.generateInternalStream(S).accumulate(F)},generateNodeStream:function(S,F){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(F)}};R.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,R,j){R.exports=f("stream")},{stream:void 0}],17:[function(f,R,j){var l=f("./DataReader");function d(a){l.call(this,a);for(var u=0;u<this.data.length;u++)a[u]=255&a[u]}f("../utils").inherits(d,l),d.prototype.byteAt=function(a){return this.data[this.zero+a]},d.prototype.lastIndexOfSignature=function(a){for(var u=a.charCodeAt(0),y=a.charCodeAt(1),w=a.charCodeAt(2),x=a.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===u&&this.data[_+1]===y&&this.data[_+2]===w&&this.data[_+3]===x)return _-this.zero;return-1},d.prototype.readAndCheckSignature=function(a){var u=a.charCodeAt(0),y=a.charCodeAt(1),w=a.charCodeAt(2),x=a.charCodeAt(3),_=this.readData(4);return u===_[0]&&y===_[1]&&w===_[2]&&x===_[3]},d.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},R.exports=d},{"../utils":32,"./DataReader":18}],18:[function(f,R,j){var l=f("../utils");function d(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var u,y=0;for(this.checkOffset(a),u=this.index+a-1;u>=this.index;u--)y=(y<<8)+this.byteAt(u);return this.index+=a,y},readString:function(a){return l.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},R.exports=d},{"../utils":32}],19:[function(f,R,j){var l=f("./Uint8ArrayReader");function d(a){l.call(this,a)}f("../utils").inherits(d,l),d.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},R.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,R,j){var l=f("./DataReader");function d(a){l.call(this,a)}f("../utils").inherits(d,l),d.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},d.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},d.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},d.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},R.exports=d},{"../utils":32,"./DataReader":18}],21:[function(f,R,j){var l=f("./ArrayReader");function d(a){l.call(this,a)}f("../utils").inherits(d,l),d.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},R.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(f,R,j){var l=f("../utils"),d=f("../support"),a=f("./ArrayReader"),u=f("./StringReader"),y=f("./NodeBufferReader"),w=f("./Uint8ArrayReader");R.exports=function(x){var _=l.getTypeOf(x);return l.checkSupport(_),_!=="string"||d.uint8array?_==="nodebuffer"?new y(x):d.uint8array?new w(l.transformTo("uint8array",x)):new a(l.transformTo("array",x)):new u(x)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,R,j){j.LOCAL_FILE_HEADER="PK",j.CENTRAL_FILE_HEADER="PK",j.CENTRAL_DIRECTORY_END="PK",j.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",j.ZIP64_CENTRAL_DIRECTORY_END="PK",j.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,R,j){var l=f("./GenericWorker"),d=f("../utils");function a(u){l.call(this,"ConvertWorker to "+u),this.destType=u}d.inherits(a,l),a.prototype.processChunk=function(u){this.push({data:d.transformTo(this.destType,u.data),meta:u.meta})},R.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(f,R,j){var l=f("./GenericWorker"),d=f("../crc32");function a(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(a,l),a.prototype.processChunk=function(u){this.streamInfo.crc32=d(u.data,this.streamInfo.crc32||0),this.push(u)},R.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,R,j){var l=f("../utils"),d=f("./GenericWorker");function a(u){d.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}l.inherits(a,d),a.prototype.processChunk=function(u){if(u){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+u.data.length}d.prototype.processChunk.call(this,u)},R.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(f,R,j){var l=f("../utils"),d=f("./GenericWorker");function a(u){d.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(w){y.dataIsReady=!0,y.data=w,y.max=w&&w.length||0,y.type=l.getTypeOf(w),y.isPaused||y._tickAndRepeat()},function(w){y.error(w)})}l.inherits(a,d),a.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,y);break;case"uint8array":u=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":u=this.data.slice(this.index,y)}return this.index=y,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},R.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(f,R,j){function l(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,a){return this._listeners[d].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,a){if(this._listeners[d])for(var u=0;u<this._listeners[d].length;u++)this._listeners[d][u].call(this,a)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var a=this;return d.on("data",function(u){a.processChunk(u)}),d.on("end",function(){a.end()}),d.on("error",function(u){a.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,a){return this.extraStreamInfo[d]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},R.exports=l},{}],29:[function(f,R,j){var l=f("../utils"),d=f("./ConvertWorker"),a=f("./GenericWorker"),u=f("../base64"),y=f("../support"),w=f("../external"),x=null;if(y.nodestream)try{x=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(m,n){return new w.Promise(function(h,c){var g=[],v=m._internalType,z=m._outputType,S=m._mimeType;m.on("data",function(F,E){g.push(F),n&&n(E)}).on("error",function(F){g=[],c(F)}).on("end",function(){try{var F=function(E,L,I){switch(E){case"blob":return l.newBlob(l.transformTo("arraybuffer",L),I);case"base64":return u.encode(L);default:return l.transformTo(E,L)}}(z,function(E,L){var I,Z=0,K=null,b=0;for(I=0;I<L.length;I++)b+=L[I].length;switch(E){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(K=new Uint8Array(b),I=0;I<L.length;I++)K.set(L[I],Z),Z+=L[I].length;return K;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+E+"'")}}(v,g),S);h(F)}catch(E){c(E)}g=[]}).resume()})}function s(m,n,h){var c=n;switch(n){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=n,this._mimeType=h,l.checkSupport(c),this._worker=m.pipe(new d(c)),m.lock()}catch(g){this._worker=new a("error"),this._worker.error(g)}}s.prototype={accumulate:function(m){return _(this,m)},on:function(m,n){var h=this;return m==="data"?this._worker.on(m,function(c){n.call(h,c.data,c.meta)}):this._worker.on(m,function(){l.delay(n,arguments,h)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new x(this,{objectMode:this._outputType!=="nodebuffer"},m)}},R.exports=s},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,R,j){if(j.base64=!0,j.array=!0,j.string=!0,j.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",j.nodebuffer=typeof Buffer<"u",j.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")j.blob=!1;else{var l=new ArrayBuffer(0);try{j.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(l),j.blob=d.getBlob("application/zip").size===0}catch{j.blob=!1}}}try{j.nodestream=!!f("readable-stream").Readable}catch{j.nodestream=!1}},{"readable-stream":16}],31:[function(f,R,j){for(var l=f("./utils"),d=f("./support"),a=f("./nodejsUtils"),u=f("./stream/GenericWorker"),y=new Array(256),w=0;w<256;w++)y[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;y[254]=y[254]=1;function x(){u.call(this,"utf-8 decode"),this.leftOver=null}function _(){u.call(this,"utf-8 encode")}j.utf8encode=function(s){return d.nodebuffer?a.newBufferFrom(s,"utf-8"):function(m){var n,h,c,g,v,z=m.length,S=0;for(g=0;g<z;g++)(64512&(h=m.charCodeAt(g)))==55296&&g+1<z&&(64512&(c=m.charCodeAt(g+1)))==56320&&(h=65536+(h-55296<<10)+(c-56320),g++),S+=h<128?1:h<2048?2:h<65536?3:4;for(n=d.uint8array?new Uint8Array(S):new Array(S),g=v=0;v<S;g++)(64512&(h=m.charCodeAt(g)))==55296&&g+1<z&&(64512&(c=m.charCodeAt(g+1)))==56320&&(h=65536+(h-55296<<10)+(c-56320),g++),h<128?n[v++]=h:(h<2048?n[v++]=192|h>>>6:(h<65536?n[v++]=224|h>>>12:(n[v++]=240|h>>>18,n[v++]=128|h>>>12&63),n[v++]=128|h>>>6&63),n[v++]=128|63&h);return n}(s)},j.utf8decode=function(s){return d.nodebuffer?l.transformTo("nodebuffer",s).toString("utf-8"):function(m){var n,h,c,g,v=m.length,z=new Array(2*v);for(n=h=0;n<v;)if((c=m[n++])<128)z[h++]=c;else if(4<(g=y[c]))z[h++]=65533,n+=g-1;else{for(c&=g===2?31:g===3?15:7;1<g&&n<v;)c=c<<6|63&m[n++],g--;1<g?z[h++]=65533:c<65536?z[h++]=c:(c-=65536,z[h++]=55296|c>>10&1023,z[h++]=56320|1023&c)}return z.length!==h&&(z.subarray?z=z.subarray(0,h):z.length=h),l.applyFromCharCode(z)}(s=l.transformTo(d.uint8array?"uint8array":"array",s))},l.inherits(x,u),x.prototype.processChunk=function(s){var m=l.transformTo(d.uint8array?"uint8array":"array",s.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var n=m;(m=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),m.set(n,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var h=function(g,v){var z;for((v=v||g.length)>g.length&&(v=g.length),z=v-1;0<=z&&(192&g[z])==128;)z--;return z<0||z===0?v:z+y[g[z]]>v?z:v}(m),c=m;h!==m.length&&(d.uint8array?(c=m.subarray(0,h),this.leftOver=m.subarray(h,m.length)):(c=m.slice(0,h),this.leftOver=m.slice(h,m.length))),this.push({data:j.utf8decode(c),meta:s.meta})},x.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:j.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},j.Utf8DecodeWorker=x,l.inherits(_,u),_.prototype.processChunk=function(s){this.push({data:j.utf8encode(s.data),meta:s.meta})},j.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,R,j){var l=f("./support"),d=f("./base64"),a=f("./nodejsUtils"),u=f("./external");function y(n){return n}function w(n,h){for(var c=0;c<n.length;++c)h[c]=255&n.charCodeAt(c);return h}f("setimmediate"),j.newBlob=function(n,h){j.checkSupport("blob");try{return new Blob([n],{type:h})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(n),c.getBlob(h)}catch{throw new Error("Bug : can't construct the Blob.")}}};var x={stringifyByChunk:function(n,h,c){var g=[],v=0,z=n.length;if(z<=c)return String.fromCharCode.apply(null,n);for(;v<z;)h==="array"||h==="nodebuffer"?g.push(String.fromCharCode.apply(null,n.slice(v,Math.min(v+c,z)))):g.push(String.fromCharCode.apply(null,n.subarray(v,Math.min(v+c,z)))),v+=c;return g.join("")},stringifyByChar:function(n){for(var h="",c=0;c<n.length;c++)h+=String.fromCharCode(n[c]);return h},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function _(n){var h=65536,c=j.getTypeOf(n),g=!0;if(c==="uint8array"?g=x.applyCanBeUsed.uint8array:c==="nodebuffer"&&(g=x.applyCanBeUsed.nodebuffer),g)for(;1<h;)try{return x.stringifyByChunk(n,c,h)}catch{h=Math.floor(h/2)}return x.stringifyByChar(n)}function s(n,h){for(var c=0;c<n.length;c++)h[c]=n[c];return h}j.applyFromCharCode=_;var m={};m.string={string:y,array:function(n){return w(n,new Array(n.length))},arraybuffer:function(n){return m.string.uint8array(n).buffer},uint8array:function(n){return w(n,new Uint8Array(n.length))},nodebuffer:function(n){return w(n,a.allocBuffer(n.length))}},m.array={string:_,array:y,arraybuffer:function(n){return new Uint8Array(n).buffer},uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return a.newBufferFrom(n)}},m.arraybuffer={string:function(n){return _(new Uint8Array(n))},array:function(n){return s(new Uint8Array(n),new Array(n.byteLength))},arraybuffer:y,uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return a.newBufferFrom(new Uint8Array(n))}},m.uint8array={string:_,array:function(n){return s(n,new Array(n.length))},arraybuffer:function(n){return n.buffer},uint8array:y,nodebuffer:function(n){return a.newBufferFrom(n)}},m.nodebuffer={string:_,array:function(n){return s(n,new Array(n.length))},arraybuffer:function(n){return m.nodebuffer.uint8array(n).buffer},uint8array:function(n){return s(n,new Uint8Array(n.length))},nodebuffer:y},j.transformTo=function(n,h){if(h=h||"",!n)return h;j.checkSupport(n);var c=j.getTypeOf(h);return m[c][n](h)},j.resolve=function(n){for(var h=n.split("/"),c=[],g=0;g<h.length;g++){var v=h[g];v==="."||v===""&&g!==0&&g!==h.length-1||(v===".."?c.pop():c.push(v))}return c.join("/")},j.getTypeOf=function(n){return typeof n=="string"?"string":Object.prototype.toString.call(n)==="[object Array]"?"array":l.nodebuffer&&a.isBuffer(n)?"nodebuffer":l.uint8array&&n instanceof Uint8Array?"uint8array":l.arraybuffer&&n instanceof ArrayBuffer?"arraybuffer":void 0},j.checkSupport=function(n){if(!l[n.toLowerCase()])throw new Error(n+" is not supported by this platform")},j.MAX_VALUE_16BITS=65535,j.MAX_VALUE_32BITS=-1,j.pretty=function(n){var h,c,g="";for(c=0;c<(n||"").length;c++)g+="\\x"+((h=n.charCodeAt(c))<16?"0":"")+h.toString(16).toUpperCase();return g},j.delay=function(n,h,c){setImmediate(function(){n.apply(c||null,h||[])})},j.inherits=function(n,h){function c(){}c.prototype=h.prototype,n.prototype=new c},j.extend=function(){var n,h,c={};for(n=0;n<arguments.length;n++)for(h in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],h)&&c[h]===void 0&&(c[h]=arguments[n][h]);return c},j.prepareContent=function(n,h,c,g,v){return u.Promise.resolve(h).then(function(z){return l.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new u.Promise(function(S,F){var E=new FileReader;E.onload=function(L){S(L.target.result)},E.onerror=function(L){F(L.target.error)},E.readAsArrayBuffer(z)}):z}).then(function(z){var S=j.getTypeOf(z);return S?(S==="arraybuffer"?z=j.transformTo("uint8array",z):S==="string"&&(v?z=d.decode(z):c&&g!==!0&&(z=function(F){return w(F,l.uint8array?new Uint8Array(F.length):new Array(F.length))}(z))),z):u.Promise.reject(new Error("Can't read the data of '"+n+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,R,j){var l=f("./reader/readerFor"),d=f("./utils"),a=f("./signature"),u=f("./zipEntry"),y=f("./support");function w(x){this.files=[],this.loadOptions=x}w.prototype={checkSignature:function(x){if(!this.reader.readAndCheckSignature(x)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(_)+", expected "+d.pretty(x)+")")}},isSignature:function(x,_){var s=this.reader.index;this.reader.setIndex(x);var m=this.reader.readString(4)===_;return this.reader.setIndex(s),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var x=this.reader.readData(this.zipCommentLength),_=y.uint8array?"uint8array":"array",s=d.transformTo(_,x);this.zipComment=this.loadOptions.decodeFileName(s)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var x,_,s,m=this.zip64EndOfCentralSize-44;0<m;)x=this.reader.readInt(2),_=this.reader.readInt(4),s=this.reader.readData(_),this.zip64ExtensibleData[x]={id:x,length:_,value:s}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var x,_;for(x=0;x<this.files.length;x++)_=this.files[x],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var x;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(x=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(x);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var x=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(x<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(x);var _=x;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(x=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(x),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var s=this.centralDirOffset+this.centralDirSize;this.zip64&&(s+=20,s+=12+this.zip64EndOfCentralSize);var m=_-s;if(0<m)this.isSignature(_,a.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(x){this.reader=l(x)},load:function(x){this.prepareReader(x),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},R.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,R,j){var l=f("./reader/readerFor"),d=f("./utils"),a=f("./compressedObject"),u=f("./crc32"),y=f("./utf8"),w=f("./compressions"),x=f("./support");function _(s,m){this.options=s,this.loadOptions=m}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(s){var m,n;if(s.skip(22),this.fileNameLength=s.readInt(2),n=s.readInt(2),this.fileName=s.readData(this.fileNameLength),s.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(h){for(var c in w)if(Object.prototype.hasOwnProperty.call(w,c)&&w[c].magic===h)return w[c];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,m,s.readData(this.compressedSize))},readCentralPart:function(s){this.versionMadeBy=s.readInt(2),s.skip(2),this.bitFlag=s.readInt(2),this.compressionMethod=s.readString(2),this.date=s.readDate(),this.crc32=s.readInt(4),this.compressedSize=s.readInt(4),this.uncompressedSize=s.readInt(4);var m=s.readInt(2);if(this.extraFieldsLength=s.readInt(2),this.fileCommentLength=s.readInt(2),this.diskNumberStart=s.readInt(2),this.internalFileAttributes=s.readInt(2),this.externalFileAttributes=s.readInt(4),this.localHeaderOffset=s.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");s.skip(m),this.readExtraFields(s),this.parseZIP64ExtraField(s),this.fileComment=s.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var s=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),s==0&&(this.dosPermissions=63&this.externalFileAttributes),s==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var s=l(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=s.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=s.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=s.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=s.readInt(4))}},readExtraFields:function(s){var m,n,h,c=s.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});s.index+4<c;)m=s.readInt(2),n=s.readInt(2),h=s.readData(n),this.extraFields[m]={id:m,length:n,value:h};s.setIndex(c)},handleUTF8:function(){var s=x.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var n=d.transformTo(s,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var h=this.findExtraFieldUnicodeComment();if(h!==null)this.fileCommentStr=h;else{var c=d.transformTo(s,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var s=this.extraFields[28789];if(s){var m=l(s.value);return m.readInt(1)!==1||u(this.fileName)!==m.readInt(4)?null:y.utf8decode(m.readData(s.length-5))}return null},findExtraFieldUnicodeComment:function(){var s=this.extraFields[25461];if(s){var m=l(s.value);return m.readInt(1)!==1||u(this.fileComment)!==m.readInt(4)?null:y.utf8decode(m.readData(s.length-5))}return null}},R.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,R,j){function l(m,n,h){this.name=m,this.dir=h.dir,this.date=h.date,this.comment=h.comment,this.unixPermissions=h.unixPermissions,this.dosPermissions=h.dosPermissions,this._data=n,this._dataBinary=h.binary,this.options={compression:h.compression,compressionOptions:h.compressionOptions}}var d=f("./stream/StreamHelper"),a=f("./stream/DataWorker"),u=f("./utf8"),y=f("./compressedObject"),w=f("./stream/GenericWorker");l.prototype={internalStream:function(m){var n=null,h="string";try{if(!m)throw new Error("No output type specified.");var c=(h=m.toLowerCase())==="string"||h==="text";h!=="binarystring"&&h!=="text"||(h="string"),n=this._decompressWorker();var g=!this._dataBinary;g&&!c&&(n=n.pipe(new u.Utf8EncodeWorker)),!g&&c&&(n=n.pipe(new u.Utf8DecodeWorker))}catch(v){(n=new w("error")).error(v)}return new d(n,h,"")},async:function(m,n){return this.internalStream(m).accumulate(n)},nodeStream:function(m,n){return this.internalStream(m||"nodebuffer").toNodejsStream(n)},_compressWorker:function(m,n){if(this._data instanceof y&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var h=this._decompressWorker();return this._dataBinary||(h=h.pipe(new u.Utf8EncodeWorker)),y.createWorkerFrom(h,m,n)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof w?this._data:new a(this._data)}};for(var x=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},s=0;s<x.length;s++)l.prototype[x[s]]=_;R.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,R,j){(function(l){var d,a,u=l.MutationObserver||l.WebKitMutationObserver;if(u){var y=0,w=new u(m),x=l.document.createTextNode("");w.observe(x,{characterData:!0}),d=function(){x.data=y=++y%2}}else if(l.setImmediate||l.MessageChannel===void 0)d="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var n=l.document.createElement("script");n.onreadystatechange=function(){m(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},l.document.documentElement.appendChild(n)}:function(){setTimeout(m,0)};else{var _=new l.MessageChannel;_.port1.onmessage=m,d=function(){_.port2.postMessage(0)}}var s=[];function m(){var n,h;a=!0;for(var c=s.length;c;){for(h=s,s=[],n=-1;++n<c;)h[n]();c=s.length}a=!1}R.exports=function(n){s.push(n)!==1||a||d()}}).call(this,typeof jt<"u"?jt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,R,j){var l=f("immediate");function d(){}var a={},u=["REJECTED"],y=["FULFILLED"],w=["PENDING"];function x(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,c!==d&&n(this,c)}function _(c,g,v){this.promise=c,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function s(c,g,v){l(function(){var z;try{z=g(v)}catch(S){return a.reject(c,S)}z===c?a.reject(c,new TypeError("Cannot resolve promise with itself")):a.resolve(c,z)})}function m(c){var g=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof g=="function")return function(){g.apply(c,arguments)}}function n(c,g){var v=!1;function z(E){v||(v=!0,a.reject(c,E))}function S(E){v||(v=!0,a.resolve(c,E))}var F=h(function(){g(S,z)});F.status==="error"&&z(F.value)}function h(c,g){var v={};try{v.value=c(g),v.status="success"}catch(z){v.status="error",v.value=z}return v}(R.exports=x).prototype.finally=function(c){if(typeof c!="function")return this;var g=this.constructor;return this.then(function(v){return g.resolve(c()).then(function(){return v})},function(v){return g.resolve(c()).then(function(){throw v})})},x.prototype.catch=function(c){return this.then(null,c)},x.prototype.then=function(c,g){if(typeof c!="function"&&this.state===y||typeof g!="function"&&this.state===u)return this;var v=new this.constructor(d);return this.state!==w?s(v,this.state===y?c:g,this.outcome):this.queue.push(new _(v,c,g)),v},_.prototype.callFulfilled=function(c){a.resolve(this.promise,c)},_.prototype.otherCallFulfilled=function(c){s(this.promise,this.onFulfilled,c)},_.prototype.callRejected=function(c){a.reject(this.promise,c)},_.prototype.otherCallRejected=function(c){s(this.promise,this.onRejected,c)},a.resolve=function(c,g){var v=h(m,g);if(v.status==="error")return a.reject(c,v.value);var z=v.value;if(z)n(c,z);else{c.state=y,c.outcome=g;for(var S=-1,F=c.queue.length;++S<F;)c.queue[S].callFulfilled(g)}return c},a.reject=function(c,g){c.state=u,c.outcome=g;for(var v=-1,z=c.queue.length;++v<z;)c.queue[v].callRejected(g);return c},x.resolve=function(c){return c instanceof this?c:a.resolve(new this(d),c)},x.reject=function(c){var g=new this(d);return a.reject(g,c)},x.all=function(c){var g=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=c.length,z=!1;if(!v)return this.resolve([]);for(var S=new Array(v),F=0,E=-1,L=new this(d);++E<v;)I(c[E],E);return L;function I(Z,K){g.resolve(Z).then(function(b){S[K]=b,++F!==v||z||(z=!0,a.resolve(L,S))},function(b){z||(z=!0,a.reject(L,b))})}},x.race=function(c){var g=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=c.length,z=!1;if(!v)return this.resolve([]);for(var S=-1,F=new this(d);++S<v;)E=c[S],g.resolve(E).then(function(L){z||(z=!0,a.resolve(F,L))},function(L){z||(z=!0,a.reject(F,L))});var E;return F}},{immediate:36}],38:[function(f,R,j){var l={};(0,f("./lib/utils/common").assign)(l,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),R.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,R,j){var l=f("./zlib/deflate"),d=f("./utils/common"),a=f("./utils/strings"),u=f("./zlib/messages"),y=f("./zlib/zstream"),w=Object.prototype.toString,x=0,_=-1,s=0,m=8;function n(c){if(!(this instanceof n))return new n(c);this.options=d.assign({level:_,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:s,to:""},c||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var v=l.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(v!==x)throw new Error(u[v]);if(g.header&&l.deflateSetHeader(this.strm,g.header),g.dictionary){var z;if(z=typeof g.dictionary=="string"?a.string2buf(g.dictionary):w.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(v=l.deflateSetDictionary(this.strm,z))!==x)throw new Error(u[v]);this._dict_set=!0}}function h(c,g){var v=new n(g);if(v.push(c,!0),v.err)throw v.msg||u[v.err];return v.result}n.prototype.push=function(c,g){var v,z,S=this.strm,F=this.options.chunkSize;if(this.ended)return!1;z=g===~~g?g:g===!0?4:0,typeof c=="string"?S.input=a.string2buf(c):w.call(c)==="[object ArrayBuffer]"?S.input=new Uint8Array(c):S.input=c,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new d.Buf8(F),S.next_out=0,S.avail_out=F),(v=l.deflate(S,z))!==1&&v!==x)return this.onEnd(v),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(d.shrinkBuf(S.output,S.next_out))):this.onData(d.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&v!==1);return z===4?(v=l.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===x):z!==2||(this.onEnd(x),!(S.avail_out=0))},n.prototype.onData=function(c){this.chunks.push(c)},n.prototype.onEnd=function(c){c===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},j.Deflate=n,j.deflate=h,j.deflateRaw=function(c,g){return(g=g||{}).raw=!0,h(c,g)},j.gzip=function(c,g){return(g=g||{}).gzip=!0,h(c,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,R,j){var l=f("./zlib/inflate"),d=f("./utils/common"),a=f("./utils/strings"),u=f("./zlib/constants"),y=f("./zlib/messages"),w=f("./zlib/zstream"),x=f("./zlib/gzheader"),_=Object.prototype.toString;function s(n){if(!(this instanceof s))return new s(n);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},n||{});var h=this.options;h.raw&&0<=h.windowBits&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),!(0<=h.windowBits&&h.windowBits<16)||n&&n.windowBits||(h.windowBits+=32),15<h.windowBits&&h.windowBits<48&&!(15&h.windowBits)&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var c=l.inflateInit2(this.strm,h.windowBits);if(c!==u.Z_OK)throw new Error(y[c]);this.header=new x,l.inflateGetHeader(this.strm,this.header)}function m(n,h){var c=new s(h);if(c.push(n,!0),c.err)throw c.msg||y[c.err];return c.result}s.prototype.push=function(n,h){var c,g,v,z,S,F,E=this.strm,L=this.options.chunkSize,I=this.options.dictionary,Z=!1;if(this.ended)return!1;g=h===~~h?h:h===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof n=="string"?E.input=a.binstring2buf(n):_.call(n)==="[object ArrayBuffer]"?E.input=new Uint8Array(n):E.input=n,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new d.Buf8(L),E.next_out=0,E.avail_out=L),(c=l.inflate(E,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&I&&(F=typeof I=="string"?a.string2buf(I):_.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,c=l.inflateSetDictionary(this.strm,F)),c===u.Z_BUF_ERROR&&Z===!0&&(c=u.Z_OK,Z=!1),c!==u.Z_STREAM_END&&c!==u.Z_OK)return this.onEnd(c),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&c!==u.Z_STREAM_END&&(E.avail_in!==0||g!==u.Z_FINISH&&g!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=a.utf8border(E.output,E.next_out),z=E.next_out-v,S=a.buf2string(E.output,v),E.next_out=z,E.avail_out=L-z,z&&d.arraySet(E.output,E.output,v,z,0),this.onData(S)):this.onData(d.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(Z=!0)}while((0<E.avail_in||E.avail_out===0)&&c!==u.Z_STREAM_END);return c===u.Z_STREAM_END&&(g=u.Z_FINISH),g===u.Z_FINISH?(c=l.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===u.Z_OK):g!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(E.avail_out=0))},s.prototype.onData=function(n){this.chunks.push(n)},s.prototype.onEnd=function(n){n===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg},j.Inflate=s,j.inflate=m,j.inflateRaw=function(n,h){return(h=h||{}).raw=!0,m(n,h)},j.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,R,j){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";j.assign=function(u){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var w=y.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var x in w)w.hasOwnProperty(x)&&(u[x]=w[x])}}return u},j.shrinkBuf=function(u,y){return u.length===y?u:u.subarray?u.subarray(0,y):(u.length=y,u)};var d={arraySet:function(u,y,w,x,_){if(y.subarray&&u.subarray)u.set(y.subarray(w,w+x),_);else for(var s=0;s<x;s++)u[_+s]=y[w+s]},flattenChunks:function(u){var y,w,x,_,s,m;for(y=x=0,w=u.length;y<w;y++)x+=u[y].length;for(m=new Uint8Array(x),y=_=0,w=u.length;y<w;y++)s=u[y],m.set(s,_),_+=s.length;return m}},a={arraySet:function(u,y,w,x,_){for(var s=0;s<x;s++)u[_+s]=y[w+s]},flattenChunks:function(u){return[].concat.apply([],u)}};j.setTyped=function(u){u?(j.Buf8=Uint8Array,j.Buf16=Uint16Array,j.Buf32=Int32Array,j.assign(j,d)):(j.Buf8=Array,j.Buf16=Array,j.Buf32=Array,j.assign(j,a))},j.setTyped(l)},{}],42:[function(f,R,j){var l=f("./common"),d=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var u=new l.Buf8(256),y=0;y<256;y++)u[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;function w(x,_){if(_<65537&&(x.subarray&&a||!x.subarray&&d))return String.fromCharCode.apply(null,l.shrinkBuf(x,_));for(var s="",m=0;m<_;m++)s+=String.fromCharCode(x[m]);return s}u[254]=u[254]=1,j.string2buf=function(x){var _,s,m,n,h,c=x.length,g=0;for(n=0;n<c;n++)(64512&(s=x.charCodeAt(n)))==55296&&n+1<c&&(64512&(m=x.charCodeAt(n+1)))==56320&&(s=65536+(s-55296<<10)+(m-56320),n++),g+=s<128?1:s<2048?2:s<65536?3:4;for(_=new l.Buf8(g),n=h=0;h<g;n++)(64512&(s=x.charCodeAt(n)))==55296&&n+1<c&&(64512&(m=x.charCodeAt(n+1)))==56320&&(s=65536+(s-55296<<10)+(m-56320),n++),s<128?_[h++]=s:(s<2048?_[h++]=192|s>>>6:(s<65536?_[h++]=224|s>>>12:(_[h++]=240|s>>>18,_[h++]=128|s>>>12&63),_[h++]=128|s>>>6&63),_[h++]=128|63&s);return _},j.buf2binstring=function(x){return w(x,x.length)},j.binstring2buf=function(x){for(var _=new l.Buf8(x.length),s=0,m=_.length;s<m;s++)_[s]=x.charCodeAt(s);return _},j.buf2string=function(x,_){var s,m,n,h,c=_||x.length,g=new Array(2*c);for(s=m=0;s<c;)if((n=x[s++])<128)g[m++]=n;else if(4<(h=u[n]))g[m++]=65533,s+=h-1;else{for(n&=h===2?31:h===3?15:7;1<h&&s<c;)n=n<<6|63&x[s++],h--;1<h?g[m++]=65533:n<65536?g[m++]=n:(n-=65536,g[m++]=55296|n>>10&1023,g[m++]=56320|1023&n)}return w(g,m)},j.utf8border=function(x,_){var s;for((_=_||x.length)>x.length&&(_=x.length),s=_-1;0<=s&&(192&x[s])==128;)s--;return s<0||s===0?_:s+u[x[s]]>_?s:_}},{"./common":41}],43:[function(f,R,j){R.exports=function(l,d,a,u){for(var y=65535&l|0,w=l>>>16&65535|0,x=0;a!==0;){for(a-=x=2e3<a?2e3:a;w=w+(y=y+d[u++]|0)|0,--x;);y%=65521,w%=65521}return y|w<<16|0}},{}],44:[function(f,R,j){R.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,R,j){var l=function(){for(var d,a=[],u=0;u<256;u++){d=u;for(var y=0;y<8;y++)d=1&d?3988292384^d>>>1:d>>>1;a[u]=d}return a}();R.exports=function(d,a,u,y){var w=l,x=y+u;d^=-1;for(var _=y;_<x;_++)d=d>>>8^w[255&(d^a[_])];return-1^d}},{}],46:[function(f,R,j){var l,d=f("../utils/common"),a=f("./trees"),u=f("./adler32"),y=f("./crc32"),w=f("./messages"),x=0,_=4,s=0,m=-2,n=-1,h=4,c=2,g=8,v=9,z=286,S=30,F=19,E=2*z+1,L=15,I=3,Z=258,K=Z+I+1,b=42,T=113,e=1,P=2,J=3,W=4;function Q(t,p){return t.msg=w[p],p}function M(t){return(t<<1)-(4<t?9:0)}function X(t){for(var p=t.length;0<=--p;)t[p]=0}function B(t){var p=t.state,N=p.pending;N>t.avail_out&&(N=t.avail_out),N!==0&&(d.arraySet(t.output,p.pending_buf,p.pending_out,N,t.next_out),t.next_out+=N,p.pending_out+=N,t.total_out+=N,t.avail_out-=N,p.pending-=N,p.pending===0&&(p.pending_out=0))}function A(t,p){a._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,p),t.block_start=t.strstart,B(t.strm)}function q(t,p){t.pending_buf[t.pending++]=p}function V(t,p){t.pending_buf[t.pending++]=p>>>8&255,t.pending_buf[t.pending++]=255&p}function $(t,p){var N,o,i=t.max_chain_length,k=t.strstart,O=t.prev_length,D=t.nice_match,C=t.strstart>t.w_size-K?t.strstart-(t.w_size-K):0,U=t.window,H=t.w_mask,G=t.prev,Y=t.strstart+Z,nt=U[k+O-1],et=U[k+O];t.prev_length>=t.good_match&&(i>>=2),D>t.lookahead&&(D=t.lookahead);do if(U[(N=p)+O]===et&&U[N+O-1]===nt&&U[N]===U[k]&&U[++N]===U[k+1]){k+=2,N++;do;while(U[++k]===U[++N]&&U[++k]===U[++N]&&U[++k]===U[++N]&&U[++k]===U[++N]&&U[++k]===U[++N]&&U[++k]===U[++N]&&U[++k]===U[++N]&&U[++k]===U[++N]&&k<Y);if(o=Z-(Y-k),k=Y-Z,O<o){if(t.match_start=p,D<=(O=o))break;nt=U[k+O-1],et=U[k+O]}}while((p=G[p&H])>C&&--i!=0);return O<=t.lookahead?O:t.lookahead}function st(t){var p,N,o,i,k,O,D,C,U,H,G=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=G+(G-K)){for(d.arraySet(t.window,t.window,G,G,0),t.match_start-=G,t.strstart-=G,t.block_start-=G,p=N=t.hash_size;o=t.head[--p],t.head[p]=G<=o?o-G:0,--N;);for(p=N=G;o=t.prev[--p],t.prev[p]=G<=o?o-G:0,--N;);i+=G}if(t.strm.avail_in===0)break;if(O=t.strm,D=t.window,C=t.strstart+t.lookahead,U=i,H=void 0,H=O.avail_in,U<H&&(H=U),N=H===0?0:(O.avail_in-=H,d.arraySet(D,O.input,O.next_in,H,C),O.state.wrap===1?O.adler=u(O.adler,D,H,C):O.state.wrap===2&&(O.adler=y(O.adler,D,H,C)),O.next_in+=H,O.total_in+=H,H),t.lookahead+=N,t.lookahead+t.insert>=I)for(k=t.strstart-t.insert,t.ins_h=t.window[k],t.ins_h=(t.ins_h<<t.hash_shift^t.window[k+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[k+I-1])&t.hash_mask,t.prev[k&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=k,k++,t.insert--,!(t.lookahead+t.insert<I)););}while(t.lookahead<K&&t.strm.avail_in!==0)}function ct(t,p){for(var N,o;;){if(t.lookahead<K){if(st(t),t.lookahead<K&&p===x)return e;if(t.lookahead===0)break}if(N=0,t.lookahead>=I&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,N=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),N!==0&&t.strstart-N<=t.w_size-K&&(t.match_length=$(t,N)),t.match_length>=I)if(o=a._tr_tally(t,t.strstart-t.match_start,t.match_length-I),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=I){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,N=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else o=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(o&&(A(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<I-1?t.strstart:I-1,p===_?(A(t,!0),t.strm.avail_out===0?J:W):t.last_lit&&(A(t,!1),t.strm.avail_out===0)?e:P}function tt(t,p){for(var N,o,i;;){if(t.lookahead<K){if(st(t),t.lookahead<K&&p===x)return e;if(t.lookahead===0)break}if(N=0,t.lookahead>=I&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,N=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=I-1,N!==0&&t.prev_length<t.max_lazy_match&&t.strstart-N<=t.w_size-K&&(t.match_length=$(t,N),t.match_length<=5&&(t.strategy===1||t.match_length===I&&4096<t.strstart-t.match_start)&&(t.match_length=I-1)),t.prev_length>=I&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-I,o=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-I),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+I-1])&t.hash_mask,N=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=I-1,t.strstart++,o&&(A(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((o=a._tr_tally(t,0,t.window[t.strstart-1]))&&A(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(o=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<I-1?t.strstart:I-1,p===_?(A(t,!0),t.strm.avail_out===0?J:W):t.last_lit&&(A(t,!1),t.strm.avail_out===0)?e:P}function rt(t,p,N,o,i){this.good_length=t,this.max_lazy=p,this.nice_length=N,this.max_chain=o,this.func=i}function lt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*E),this.dyn_dtree=new d.Buf16(2*(2*S+1)),this.bl_tree=new d.Buf16(2*(2*F+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(L+1),this.heap=new d.Buf16(2*z+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*z+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function it(t){var p;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=c,(p=t.state).pending=0,p.pending_out=0,p.wrap<0&&(p.wrap=-p.wrap),p.status=p.wrap?b:T,t.adler=p.wrap===2?0:1,p.last_flush=x,a._tr_init(p),s):Q(t,m)}function at(t){var p=it(t);return p===s&&function(N){N.window_size=2*N.w_size,X(N.head),N.max_lazy_match=l[N.level].max_lazy,N.good_match=l[N.level].good_length,N.nice_match=l[N.level].nice_length,N.max_chain_length=l[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=I-1,N.match_available=0,N.ins_h=0}(t.state),p}function ht(t,p,N,o,i,k){if(!t)return m;var O=1;if(p===n&&(p=6),o<0?(O=0,o=-o):15<o&&(O=2,o-=16),i<1||v<i||N!==g||o<8||15<o||p<0||9<p||k<0||h<k)return Q(t,m);o===8&&(o=9);var D=new lt;return(t.state=D).strm=t,D.wrap=O,D.gzhead=null,D.w_bits=o,D.w_size=1<<D.w_bits,D.w_mask=D.w_size-1,D.hash_bits=i+7,D.hash_size=1<<D.hash_bits,D.hash_mask=D.hash_size-1,D.hash_shift=~~((D.hash_bits+I-1)/I),D.window=new d.Buf8(2*D.w_size),D.head=new d.Buf16(D.hash_size),D.prev=new d.Buf16(D.w_size),D.lit_bufsize=1<<i+6,D.pending_buf_size=4*D.lit_bufsize,D.pending_buf=new d.Buf8(D.pending_buf_size),D.d_buf=1*D.lit_bufsize,D.l_buf=3*D.lit_bufsize,D.level=p,D.strategy=k,D.method=N,at(t)}l=[new rt(0,0,0,0,function(t,p){var N=65535;for(N>t.pending_buf_size-5&&(N=t.pending_buf_size-5);;){if(t.lookahead<=1){if(st(t),t.lookahead===0&&p===x)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var o=t.block_start+N;if((t.strstart===0||t.strstart>=o)&&(t.lookahead=t.strstart-o,t.strstart=o,A(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-K&&(A(t,!1),t.strm.avail_out===0))return e}return t.insert=0,p===_?(A(t,!0),t.strm.avail_out===0?J:W):(t.strstart>t.block_start&&(A(t,!1),t.strm.avail_out),e)}),new rt(4,4,8,4,ct),new rt(4,5,16,8,ct),new rt(4,6,32,32,ct),new rt(4,4,16,16,tt),new rt(8,16,32,32,tt),new rt(8,16,128,128,tt),new rt(8,32,128,256,tt),new rt(32,128,258,1024,tt),new rt(32,258,258,4096,tt)],j.deflateInit=function(t,p){return ht(t,p,g,15,8,0)},j.deflateInit2=ht,j.deflateReset=at,j.deflateResetKeep=it,j.deflateSetHeader=function(t,p){return t&&t.state?t.state.wrap!==2?m:(t.state.gzhead=p,s):m},j.deflate=function(t,p){var N,o,i,k;if(!t||!t.state||5<p||p<0)return t?Q(t,m):m;if(o=t.state,!t.output||!t.input&&t.avail_in!==0||o.status===666&&p!==_)return Q(t,t.avail_out===0?-5:m);if(o.strm=t,N=o.last_flush,o.last_flush=p,o.status===b)if(o.wrap===2)t.adler=0,q(o,31),q(o,139),q(o,8),o.gzhead?(q(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),q(o,255&o.gzhead.time),q(o,o.gzhead.time>>8&255),q(o,o.gzhead.time>>16&255),q(o,o.gzhead.time>>24&255),q(o,o.level===9?2:2<=o.strategy||o.level<2?4:0),q(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(q(o,255&o.gzhead.extra.length),q(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=y(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(q(o,0),q(o,0),q(o,0),q(o,0),q(o,0),q(o,o.level===9?2:2<=o.strategy||o.level<2?4:0),q(o,3),o.status=T);else{var O=g+(o.w_bits-8<<4)<<8;O|=(2<=o.strategy||o.level<2?0:o.level<6?1:o.level===6?2:3)<<6,o.strstart!==0&&(O|=32),O+=31-O%31,o.status=T,V(o,O),o.strstart!==0&&(V(o,t.adler>>>16),V(o,65535&t.adler)),t.adler=1}if(o.status===69)if(o.gzhead.extra){for(i=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>i&&(t.adler=y(t.adler,o.pending_buf,o.pending-i,i)),B(t),i=o.pending,o.pending!==o.pending_buf_size));)q(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>i&&(t.adler=y(t.adler,o.pending_buf,o.pending-i,i)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(o.status===73)if(o.gzhead.name){i=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(t.adler=y(t.adler,o.pending_buf,o.pending-i,i)),B(t),i=o.pending,o.pending===o.pending_buf_size)){k=1;break}k=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,q(o,k)}while(k!==0);o.gzhead.hcrc&&o.pending>i&&(t.adler=y(t.adler,o.pending_buf,o.pending-i,i)),k===0&&(o.gzindex=0,o.status=91)}else o.status=91;if(o.status===91)if(o.gzhead.comment){i=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(t.adler=y(t.adler,o.pending_buf,o.pending-i,i)),B(t),i=o.pending,o.pending===o.pending_buf_size)){k=1;break}k=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,q(o,k)}while(k!==0);o.gzhead.hcrc&&o.pending>i&&(t.adler=y(t.adler,o.pending_buf,o.pending-i,i)),k===0&&(o.status=103)}else o.status=103;if(o.status===103&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&B(t),o.pending+2<=o.pending_buf_size&&(q(o,255&t.adler),q(o,t.adler>>8&255),t.adler=0,o.status=T)):o.status=T),o.pending!==0){if(B(t),t.avail_out===0)return o.last_flush=-1,s}else if(t.avail_in===0&&M(p)<=M(N)&&p!==_)return Q(t,-5);if(o.status===666&&t.avail_in!==0)return Q(t,-5);if(t.avail_in!==0||o.lookahead!==0||p!==x&&o.status!==666){var D=o.strategy===2?function(C,U){for(var H;;){if(C.lookahead===0&&(st(C),C.lookahead===0)){if(U===x)return e;break}if(C.match_length=0,H=a._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,H&&(A(C,!1),C.strm.avail_out===0))return e}return C.insert=0,U===_?(A(C,!0),C.strm.avail_out===0?J:W):C.last_lit&&(A(C,!1),C.strm.avail_out===0)?e:P}(o,p):o.strategy===3?function(C,U){for(var H,G,Y,nt,et=C.window;;){if(C.lookahead<=Z){if(st(C),C.lookahead<=Z&&U===x)return e;if(C.lookahead===0)break}if(C.match_length=0,C.lookahead>=I&&0<C.strstart&&(G=et[Y=C.strstart-1])===et[++Y]&&G===et[++Y]&&G===et[++Y]){nt=C.strstart+Z;do;while(G===et[++Y]&&G===et[++Y]&&G===et[++Y]&&G===et[++Y]&&G===et[++Y]&&G===et[++Y]&&G===et[++Y]&&G===et[++Y]&&Y<nt);C.match_length=Z-(nt-Y),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=I?(H=a._tr_tally(C,1,C.match_length-I),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(H=a._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),H&&(A(C,!1),C.strm.avail_out===0))return e}return C.insert=0,U===_?(A(C,!0),C.strm.avail_out===0?J:W):C.last_lit&&(A(C,!1),C.strm.avail_out===0)?e:P}(o,p):l[o.level].func(o,p);if(D!==J&&D!==W||(o.status=666),D===e||D===J)return t.avail_out===0&&(o.last_flush=-1),s;if(D===P&&(p===1?a._tr_align(o):p!==5&&(a._tr_stored_block(o,0,0,!1),p===3&&(X(o.head),o.lookahead===0&&(o.strstart=0,o.block_start=0,o.insert=0))),B(t),t.avail_out===0))return o.last_flush=-1,s}return p!==_?s:o.wrap<=0?1:(o.wrap===2?(q(o,255&t.adler),q(o,t.adler>>8&255),q(o,t.adler>>16&255),q(o,t.adler>>24&255),q(o,255&t.total_in),q(o,t.total_in>>8&255),q(o,t.total_in>>16&255),q(o,t.total_in>>24&255)):(V(o,t.adler>>>16),V(o,65535&t.adler)),B(t),0<o.wrap&&(o.wrap=-o.wrap),o.pending!==0?s:1)},j.deflateEnd=function(t){var p;return t&&t.state?(p=t.state.status)!==b&&p!==69&&p!==73&&p!==91&&p!==103&&p!==T&&p!==666?Q(t,m):(t.state=null,p===T?Q(t,-3):s):m},j.deflateSetDictionary=function(t,p){var N,o,i,k,O,D,C,U,H=p.length;if(!t||!t.state||(k=(N=t.state).wrap)===2||k===1&&N.status!==b||N.lookahead)return m;for(k===1&&(t.adler=u(t.adler,p,H,0)),N.wrap=0,H>=N.w_size&&(k===0&&(X(N.head),N.strstart=0,N.block_start=0,N.insert=0),U=new d.Buf8(N.w_size),d.arraySet(U,p,H-N.w_size,N.w_size,0),p=U,H=N.w_size),O=t.avail_in,D=t.next_in,C=t.input,t.avail_in=H,t.next_in=0,t.input=p,st(N);N.lookahead>=I;){for(o=N.strstart,i=N.lookahead-(I-1);N.ins_h=(N.ins_h<<N.hash_shift^N.window[o+I-1])&N.hash_mask,N.prev[o&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=o,o++,--i;);N.strstart=o,N.lookahead=I-1,st(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=I-1,N.match_available=0,t.next_in=D,t.input=C,t.avail_in=O,N.wrap=k,s},j.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,R,j){R.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,R,j){R.exports=function(l,d){var a,u,y,w,x,_,s,m,n,h,c,g,v,z,S,F,E,L,I,Z,K,b,T,e,P;a=l.state,u=l.next_in,e=l.input,y=u+(l.avail_in-5),w=l.next_out,P=l.output,x=w-(d-l.avail_out),_=w+(l.avail_out-257),s=a.dmax,m=a.wsize,n=a.whave,h=a.wnext,c=a.window,g=a.hold,v=a.bits,z=a.lencode,S=a.distcode,F=(1<<a.lenbits)-1,E=(1<<a.distbits)-1;t:do{v<15&&(g+=e[u++]<<v,v+=8,g+=e[u++]<<v,v+=8),L=z[g&F];e:for(;;){if(g>>>=I=L>>>24,v-=I,(I=L>>>16&255)===0)P[w++]=65535&L;else{if(!(16&I)){if(!(64&I)){L=z[(65535&L)+(g&(1<<I)-1)];continue e}if(32&I){a.mode=12;break t}l.msg="invalid literal/length code",a.mode=30;break t}Z=65535&L,(I&=15)&&(v<I&&(g+=e[u++]<<v,v+=8),Z+=g&(1<<I)-1,g>>>=I,v-=I),v<15&&(g+=e[u++]<<v,v+=8,g+=e[u++]<<v,v+=8),L=S[g&E];r:for(;;){if(g>>>=I=L>>>24,v-=I,!(16&(I=L>>>16&255))){if(!(64&I)){L=S[(65535&L)+(g&(1<<I)-1)];continue r}l.msg="invalid distance code",a.mode=30;break t}if(K=65535&L,v<(I&=15)&&(g+=e[u++]<<v,(v+=8)<I&&(g+=e[u++]<<v,v+=8)),s<(K+=g&(1<<I)-1)){l.msg="invalid distance too far back",a.mode=30;break t}if(g>>>=I,v-=I,(I=w-x)<K){if(n<(I=K-I)&&a.sane){l.msg="invalid distance too far back",a.mode=30;break t}if(T=c,(b=0)===h){if(b+=m-I,I<Z){for(Z-=I;P[w++]=c[b++],--I;);b=w-K,T=P}}else if(h<I){if(b+=m+h-I,(I-=h)<Z){for(Z-=I;P[w++]=c[b++],--I;);if(b=0,h<Z){for(Z-=I=h;P[w++]=c[b++],--I;);b=w-K,T=P}}}else if(b+=h-I,I<Z){for(Z-=I;P[w++]=c[b++],--I;);b=w-K,T=P}for(;2<Z;)P[w++]=T[b++],P[w++]=T[b++],P[w++]=T[b++],Z-=3;Z&&(P[w++]=T[b++],1<Z&&(P[w++]=T[b++]))}else{for(b=w-K;P[w++]=P[b++],P[w++]=P[b++],P[w++]=P[b++],2<(Z-=3););Z&&(P[w++]=P[b++],1<Z&&(P[w++]=P[b++]))}break}}break}}while(u<y&&w<_);u-=Z=v>>3,g&=(1<<(v-=Z<<3))-1,l.next_in=u,l.next_out=w,l.avail_in=u<y?y-u+5:5-(u-y),l.avail_out=w<_?_-w+257:257-(w-_),a.hold=g,a.bits=v}},{}],49:[function(f,R,j){var l=f("../utils/common"),d=f("./adler32"),a=f("./crc32"),u=f("./inffast"),y=f("./inftrees"),w=1,x=2,_=0,s=-2,m=1,n=852,h=592;function c(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(b){var T;return b&&b.state?(T=b.state,b.total_in=b.total_out=T.total=0,b.msg="",T.wrap&&(b.adler=1&T.wrap),T.mode=m,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new l.Buf32(n),T.distcode=T.distdyn=new l.Buf32(h),T.sane=1,T.back=-1,_):s}function z(b){var T;return b&&b.state?((T=b.state).wsize=0,T.whave=0,T.wnext=0,v(b)):s}function S(b,T){var e,P;return b&&b.state?(P=b.state,T<0?(e=0,T=-T):(e=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?s:(P.window!==null&&P.wbits!==T&&(P.window=null),P.wrap=e,P.wbits=T,z(b))):s}function F(b,T){var e,P;return b?(P=new g,(b.state=P).window=null,(e=S(b,T))!==_&&(b.state=null),e):s}var E,L,I=!0;function Z(b){if(I){var T;for(E=new l.Buf32(512),L=new l.Buf32(32),T=0;T<144;)b.lens[T++]=8;for(;T<256;)b.lens[T++]=9;for(;T<280;)b.lens[T++]=7;for(;T<288;)b.lens[T++]=8;for(y(w,b.lens,0,288,E,0,b.work,{bits:9}),T=0;T<32;)b.lens[T++]=5;y(x,b.lens,0,32,L,0,b.work,{bits:5}),I=!1}b.lencode=E,b.lenbits=9,b.distcode=L,b.distbits=5}function K(b,T,e,P){var J,W=b.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new l.Buf8(W.wsize)),P>=W.wsize?(l.arraySet(W.window,T,e-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(P<(J=W.wsize-W.wnext)&&(J=P),l.arraySet(W.window,T,e-P,J,W.wnext),(P-=J)?(l.arraySet(W.window,T,e-P,P,0),W.wnext=P,W.whave=W.wsize):(W.wnext+=J,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=J))),0}j.inflateReset=z,j.inflateReset2=S,j.inflateResetKeep=v,j.inflateInit=function(b){return F(b,15)},j.inflateInit2=F,j.inflate=function(b,T){var e,P,J,W,Q,M,X,B,A,q,V,$,st,ct,tt,rt,lt,it,at,ht,t,p,N,o,i=0,k=new l.Buf8(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return s;(e=b.state).mode===12&&(e.mode=13),Q=b.next_out,J=b.output,X=b.avail_out,W=b.next_in,P=b.input,M=b.avail_in,B=e.hold,A=e.bits,q=M,V=X,p=_;t:for(;;)switch(e.mode){case m:if(e.wrap===0){e.mode=13;break}for(;A<16;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}if(2&e.wrap&&B===35615){k[e.check=0]=255&B,k[1]=B>>>8&255,e.check=a(e.check,k,2,0),A=B=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&B)<<8)+(B>>8))%31){b.msg="incorrect header check",e.mode=30;break}if((15&B)!=8){b.msg="unknown compression method",e.mode=30;break}if(A-=4,t=8+(15&(B>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){b.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,b.adler=e.check=1,e.mode=512&B?10:12,A=B=0;break;case 2:for(;A<16;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}if(e.flags=B,(255&e.flags)!=8){b.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){b.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=B>>8&1),512&e.flags&&(k[0]=255&B,k[1]=B>>>8&255,e.check=a(e.check,k,2,0)),A=B=0,e.mode=3;case 3:for(;A<32;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}e.head&&(e.head.time=B),512&e.flags&&(k[0]=255&B,k[1]=B>>>8&255,k[2]=B>>>16&255,k[3]=B>>>24&255,e.check=a(e.check,k,4,0)),A=B=0,e.mode=4;case 4:for(;A<16;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}e.head&&(e.head.xflags=255&B,e.head.os=B>>8),512&e.flags&&(k[0]=255&B,k[1]=B>>>8&255,e.check=a(e.check,k,2,0)),A=B=0,e.mode=5;case 5:if(1024&e.flags){for(;A<16;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}e.length=B,e.head&&(e.head.extra_len=B),512&e.flags&&(k[0]=255&B,k[1]=B>>>8&255,e.check=a(e.check,k,2,0)),A=B=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(M<($=e.length)&&($=M),$&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),l.arraySet(e.head.extra,P,W,$,t)),512&e.flags&&(e.check=a(e.check,P,$,W)),M-=$,W+=$,e.length-=$),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(M===0)break t;for($=0;t=P[W+$++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&$<M;);if(512&e.flags&&(e.check=a(e.check,P,$,W)),M-=$,W+=$,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(M===0)break t;for($=0;t=P[W+$++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&$<M;);if(512&e.flags&&(e.check=a(e.check,P,$,W)),M-=$,W+=$,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;A<16;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}if(B!==(65535&e.check)){b.msg="header crc mismatch",e.mode=30;break}A=B=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),b.adler=e.check=0,e.mode=12;break;case 10:for(;A<32;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}b.adler=e.check=c(B),A=B=0,e.mode=11;case 11:if(e.havedict===0)return b.next_out=Q,b.avail_out=X,b.next_in=W,b.avail_in=M,e.hold=B,e.bits=A,2;b.adler=e.check=1,e.mode=12;case 12:if(T===5||T===6)break t;case 13:if(e.last){B>>>=7&A,A-=7&A,e.mode=27;break}for(;A<3;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}switch(e.last=1&B,A-=1,3&(B>>>=1)){case 0:e.mode=14;break;case 1:if(Z(e),e.mode=20,T!==6)break;B>>>=2,A-=2;break t;case 2:e.mode=17;break;case 3:b.msg="invalid block type",e.mode=30}B>>>=2,A-=2;break;case 14:for(B>>>=7&A,A-=7&A;A<32;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}if((65535&B)!=(B>>>16^65535)){b.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&B,A=B=0,e.mode=15,T===6)break t;case 15:e.mode=16;case 16:if($=e.length){if(M<$&&($=M),X<$&&($=X),$===0)break t;l.arraySet(J,P,W,$,Q),M-=$,W+=$,X-=$,Q+=$,e.length-=$;break}e.mode=12;break;case 17:for(;A<14;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}if(e.nlen=257+(31&B),B>>>=5,A-=5,e.ndist=1+(31&B),B>>>=5,A-=5,e.ncode=4+(15&B),B>>>=4,A-=4,286<e.nlen||30<e.ndist){b.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;A<3;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}e.lens[O[e.have++]]=7&B,B>>>=3,A-=3}for(;e.have<19;)e.lens[O[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,N={bits:e.lenbits},p=y(0,e.lens,0,19,e.lencode,0,e.work,N),e.lenbits=N.bits,p){b.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;rt=(i=e.lencode[B&(1<<e.lenbits)-1])>>>16&255,lt=65535&i,!((tt=i>>>24)<=A);){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}if(lt<16)B>>>=tt,A-=tt,e.lens[e.have++]=lt;else{if(lt===16){for(o=tt+2;A<o;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}if(B>>>=tt,A-=tt,e.have===0){b.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],$=3+(3&B),B>>>=2,A-=2}else if(lt===17){for(o=tt+3;A<o;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}A-=tt,t=0,$=3+(7&(B>>>=tt)),B>>>=3,A-=3}else{for(o=tt+7;A<o;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}A-=tt,t=0,$=11+(127&(B>>>=tt)),B>>>=7,A-=7}if(e.have+$>e.nlen+e.ndist){b.msg="invalid bit length repeat",e.mode=30;break}for(;$--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){b.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,N={bits:e.lenbits},p=y(w,e.lens,0,e.nlen,e.lencode,0,e.work,N),e.lenbits=N.bits,p){b.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,N={bits:e.distbits},p=y(x,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,N),e.distbits=N.bits,p){b.msg="invalid distances set",e.mode=30;break}if(e.mode=20,T===6)break t;case 20:e.mode=21;case 21:if(6<=M&&258<=X){b.next_out=Q,b.avail_out=X,b.next_in=W,b.avail_in=M,e.hold=B,e.bits=A,u(b,V),Q=b.next_out,J=b.output,X=b.avail_out,W=b.next_in,P=b.input,M=b.avail_in,B=e.hold,A=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;rt=(i=e.lencode[B&(1<<e.lenbits)-1])>>>16&255,lt=65535&i,!((tt=i>>>24)<=A);){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}if(rt&&!(240&rt)){for(it=tt,at=rt,ht=lt;rt=(i=e.lencode[ht+((B&(1<<it+at)-1)>>it)])>>>16&255,lt=65535&i,!(it+(tt=i>>>24)<=A);){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}B>>>=it,A-=it,e.back+=it}if(B>>>=tt,A-=tt,e.back+=tt,e.length=lt,rt===0){e.mode=26;break}if(32&rt){e.back=-1,e.mode=12;break}if(64&rt){b.msg="invalid literal/length code",e.mode=30;break}e.extra=15&rt,e.mode=22;case 22:if(e.extra){for(o=e.extra;A<o;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}e.length+=B&(1<<e.extra)-1,B>>>=e.extra,A-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;rt=(i=e.distcode[B&(1<<e.distbits)-1])>>>16&255,lt=65535&i,!((tt=i>>>24)<=A);){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}if(!(240&rt)){for(it=tt,at=rt,ht=lt;rt=(i=e.distcode[ht+((B&(1<<it+at)-1)>>it)])>>>16&255,lt=65535&i,!(it+(tt=i>>>24)<=A);){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}B>>>=it,A-=it,e.back+=it}if(B>>>=tt,A-=tt,e.back+=tt,64&rt){b.msg="invalid distance code",e.mode=30;break}e.offset=lt,e.extra=15&rt,e.mode=24;case 24:if(e.extra){for(o=e.extra;A<o;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}e.offset+=B&(1<<e.extra)-1,B>>>=e.extra,A-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){b.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(X===0)break t;if($=V-X,e.offset>$){if(($=e.offset-$)>e.whave&&e.sane){b.msg="invalid distance too far back",e.mode=30;break}st=$>e.wnext?($-=e.wnext,e.wsize-$):e.wnext-$,$>e.length&&($=e.length),ct=e.window}else ct=J,st=Q-e.offset,$=e.length;for(X<$&&($=X),X-=$,e.length-=$;J[Q++]=ct[st++],--$;);e.length===0&&(e.mode=21);break;case 26:if(X===0)break t;J[Q++]=e.length,X--,e.mode=21;break;case 27:if(e.wrap){for(;A<32;){if(M===0)break t;M--,B|=P[W++]<<A,A+=8}if(V-=X,b.total_out+=V,e.total+=V,V&&(b.adler=e.check=e.flags?a(e.check,J,V,Q-V):d(e.check,J,V,Q-V)),V=X,(e.flags?B:c(B))!==e.check){b.msg="incorrect data check",e.mode=30;break}A=B=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;A<32;){if(M===0)break t;M--,B+=P[W++]<<A,A+=8}if(B!==(4294967295&e.total)){b.msg="incorrect length check",e.mode=30;break}A=B=0}e.mode=29;case 29:p=1;break t;case 30:p=-3;break t;case 31:return-4;case 32:default:return s}return b.next_out=Q,b.avail_out=X,b.next_in=W,b.avail_in=M,e.hold=B,e.bits=A,(e.wsize||V!==b.avail_out&&e.mode<30&&(e.mode<27||T!==4))&&K(b,b.output,b.next_out,V-b.avail_out)?(e.mode=31,-4):(q-=b.avail_in,V-=b.avail_out,b.total_in+=q,b.total_out+=V,e.total+=V,e.wrap&&V&&(b.adler=e.check=e.flags?a(e.check,J,V,b.next_out-V):d(e.check,J,V,b.next_out-V)),b.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(q==0&&V===0||T===4)&&p===_&&(p=-5),p)},j.inflateEnd=function(b){if(!b||!b.state)return s;var T=b.state;return T.window&&(T.window=null),b.state=null,_},j.inflateGetHeader=function(b,T){var e;return b&&b.state&&2&(e=b.state).wrap?((e.head=T).done=!1,_):s},j.inflateSetDictionary=function(b,T){var e,P=T.length;return b&&b.state?(e=b.state).wrap!==0&&e.mode!==11?s:e.mode===11&&d(1,T,P,0)!==e.check?-3:K(b,T,P,P)?(e.mode=31,-4):(e.havedict=1,_):s},j.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,R,j){var l=f("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];R.exports=function(w,x,_,s,m,n,h,c){var g,v,z,S,F,E,L,I,Z,K=c.bits,b=0,T=0,e=0,P=0,J=0,W=0,Q=0,M=0,X=0,B=0,A=null,q=0,V=new l.Buf16(16),$=new l.Buf16(16),st=null,ct=0;for(b=0;b<=15;b++)V[b]=0;for(T=0;T<s;T++)V[x[_+T]]++;for(J=K,P=15;1<=P&&V[P]===0;P--);if(P<J&&(J=P),P===0)return m[n++]=20971520,m[n++]=20971520,c.bits=1,0;for(e=1;e<P&&V[e]===0;e++);for(J<e&&(J=e),b=M=1;b<=15;b++)if(M<<=1,(M-=V[b])<0)return-1;if(0<M&&(w===0||P!==1))return-1;for($[1]=0,b=1;b<15;b++)$[b+1]=$[b]+V[b];for(T=0;T<s;T++)x[_+T]!==0&&(h[$[x[_+T]]++]=T);if(E=w===0?(A=st=h,19):w===1?(A=d,q-=257,st=a,ct-=257,256):(A=u,st=y,-1),b=e,F=n,Q=T=B=0,z=-1,S=(X=1<<(W=J))-1,w===1&&852<X||w===2&&592<X)return 1;for(;;){for(L=b-Q,Z=h[T]<E?(I=0,h[T]):h[T]>E?(I=st[ct+h[T]],A[q+h[T]]):(I=96,0),g=1<<b-Q,e=v=1<<W;m[F+(B>>Q)+(v-=g)]=L<<24|I<<16|Z|0,v!==0;);for(g=1<<b-1;B&g;)g>>=1;if(g!==0?(B&=g-1,B+=g):B=0,T++,--V[b]==0){if(b===P)break;b=x[_+h[T]]}if(J<b&&(B&S)!==z){for(Q===0&&(Q=J),F+=e,M=1<<(W=b-Q);W+Q<P&&!((M-=V[W+Q])<=0);)W++,M<<=1;if(X+=1<<W,w===1&&852<X||w===2&&592<X)return 1;m[z=B&S]=J<<24|W<<16|F-n|0}}return B!==0&&(m[F+B]=b-Q<<24|64<<16|0),c.bits=J,0}},{"../utils/common":41}],51:[function(f,R,j){R.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,R,j){var l=f("../utils/common"),d=0,a=1;function u(i){for(var k=i.length;0<=--k;)i[k]=0}var y=0,w=29,x=256,_=x+1+w,s=30,m=19,n=2*_+1,h=15,c=16,g=7,v=256,z=16,S=17,F=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(_+2));u(K);var b=new Array(2*s);u(b);var T=new Array(512);u(T);var e=new Array(256);u(e);var P=new Array(w);u(P);var J,W,Q,M=new Array(s);function X(i,k,O,D,C){this.static_tree=i,this.extra_bits=k,this.extra_base=O,this.elems=D,this.max_length=C,this.has_stree=i&&i.length}function B(i,k){this.dyn_tree=i,this.max_code=0,this.stat_desc=k}function A(i){return i<256?T[i]:T[256+(i>>>7)]}function q(i,k){i.pending_buf[i.pending++]=255&k,i.pending_buf[i.pending++]=k>>>8&255}function V(i,k,O){i.bi_valid>c-O?(i.bi_buf|=k<<i.bi_valid&65535,q(i,i.bi_buf),i.bi_buf=k>>c-i.bi_valid,i.bi_valid+=O-c):(i.bi_buf|=k<<i.bi_valid&65535,i.bi_valid+=O)}function $(i,k,O){V(i,O[2*k],O[2*k+1])}function st(i,k){for(var O=0;O|=1&i,i>>>=1,O<<=1,0<--k;);return O>>>1}function ct(i,k,O){var D,C,U=new Array(h+1),H=0;for(D=1;D<=h;D++)U[D]=H=H+O[D-1]<<1;for(C=0;C<=k;C++){var G=i[2*C+1];G!==0&&(i[2*C]=st(U[G]++,G))}}function tt(i){var k;for(k=0;k<_;k++)i.dyn_ltree[2*k]=0;for(k=0;k<s;k++)i.dyn_dtree[2*k]=0;for(k=0;k<m;k++)i.bl_tree[2*k]=0;i.dyn_ltree[2*v]=1,i.opt_len=i.static_len=0,i.last_lit=i.matches=0}function rt(i){8<i.bi_valid?q(i,i.bi_buf):0<i.bi_valid&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0}function lt(i,k,O,D){var C=2*k,U=2*O;return i[C]<i[U]||i[C]===i[U]&&D[k]<=D[O]}function it(i,k,O){for(var D=i.heap[O],C=O<<1;C<=i.heap_len&&(C<i.heap_len&&lt(k,i.heap[C+1],i.heap[C],i.depth)&&C++,!lt(k,D,i.heap[C],i.depth));)i.heap[O]=i.heap[C],O=C,C<<=1;i.heap[O]=D}function at(i,k,O){var D,C,U,H,G=0;if(i.last_lit!==0)for(;D=i.pending_buf[i.d_buf+2*G]<<8|i.pending_buf[i.d_buf+2*G+1],C=i.pending_buf[i.l_buf+G],G++,D===0?$(i,C,k):($(i,(U=e[C])+x+1,k),(H=E[U])!==0&&V(i,C-=P[U],H),$(i,U=A(--D),O),(H=L[U])!==0&&V(i,D-=M[U],H)),G<i.last_lit;);$(i,v,k)}function ht(i,k){var O,D,C,U=k.dyn_tree,H=k.stat_desc.static_tree,G=k.stat_desc.has_stree,Y=k.stat_desc.elems,nt=-1;for(i.heap_len=0,i.heap_max=n,O=0;O<Y;O++)U[2*O]!==0?(i.heap[++i.heap_len]=nt=O,i.depth[O]=0):U[2*O+1]=0;for(;i.heap_len<2;)U[2*(C=i.heap[++i.heap_len]=nt<2?++nt:0)]=1,i.depth[C]=0,i.opt_len--,G&&(i.static_len-=H[2*C+1]);for(k.max_code=nt,O=i.heap_len>>1;1<=O;O--)it(i,U,O);for(C=Y;O=i.heap[1],i.heap[1]=i.heap[i.heap_len--],it(i,U,1),D=i.heap[1],i.heap[--i.heap_max]=O,i.heap[--i.heap_max]=D,U[2*C]=U[2*O]+U[2*D],i.depth[C]=(i.depth[O]>=i.depth[D]?i.depth[O]:i.depth[D])+1,U[2*O+1]=U[2*D+1]=C,i.heap[1]=C++,it(i,U,1),2<=i.heap_len;);i.heap[--i.heap_max]=i.heap[1],function(et,ft){var yt,gt,_t,ot,wt,At,xt=ft.dyn_tree,Et=ft.max_code,Zt=ft.stat_desc.static_tree,Mt=ft.stat_desc.has_stree,Gt=ft.stat_desc.extra_bits,Tt=ft.stat_desc.extra_base,vt=ft.stat_desc.max_length,kt=0;for(ot=0;ot<=h;ot++)et.bl_count[ot]=0;for(xt[2*et.heap[et.heap_max]+1]=0,yt=et.heap_max+1;yt<n;yt++)vt<(ot=xt[2*xt[2*(gt=et.heap[yt])+1]+1]+1)&&(ot=vt,kt++),xt[2*gt+1]=ot,Et<gt||(et.bl_count[ot]++,wt=0,Tt<=gt&&(wt=Gt[gt-Tt]),At=xt[2*gt],et.opt_len+=At*(ot+wt),Mt&&(et.static_len+=At*(Zt[2*gt+1]+wt)));if(kt!==0){do{for(ot=vt-1;et.bl_count[ot]===0;)ot--;et.bl_count[ot]--,et.bl_count[ot+1]+=2,et.bl_count[vt]--,kt-=2}while(0<kt);for(ot=vt;ot!==0;ot--)for(gt=et.bl_count[ot];gt!==0;)Et<(_t=et.heap[--yt])||(xt[2*_t+1]!==ot&&(et.opt_len+=(ot-xt[2*_t+1])*xt[2*_t],xt[2*_t+1]=ot),gt--)}}(i,k),ct(U,nt,i.bl_count)}function t(i,k,O){var D,C,U=-1,H=k[1],G=0,Y=7,nt=4;for(H===0&&(Y=138,nt=3),k[2*(O+1)+1]=65535,D=0;D<=O;D++)C=H,H=k[2*(D+1)+1],++G<Y&&C===H||(G<nt?i.bl_tree[2*C]+=G:C!==0?(C!==U&&i.bl_tree[2*C]++,i.bl_tree[2*z]++):G<=10?i.bl_tree[2*S]++:i.bl_tree[2*F]++,U=C,nt=(G=0)===H?(Y=138,3):C===H?(Y=6,3):(Y=7,4))}function p(i,k,O){var D,C,U=-1,H=k[1],G=0,Y=7,nt=4;for(H===0&&(Y=138,nt=3),D=0;D<=O;D++)if(C=H,H=k[2*(D+1)+1],!(++G<Y&&C===H)){if(G<nt)for(;$(i,C,i.bl_tree),--G!=0;);else C!==0?(C!==U&&($(i,C,i.bl_tree),G--),$(i,z,i.bl_tree),V(i,G-3,2)):G<=10?($(i,S,i.bl_tree),V(i,G-3,3)):($(i,F,i.bl_tree),V(i,G-11,7));U=C,nt=(G=0)===H?(Y=138,3):C===H?(Y=6,3):(Y=7,4)}}u(M);var N=!1;function o(i,k,O,D){V(i,(y<<1)+(D?1:0),3),function(C,U,H,G){rt(C),G&&(q(C,H),q(C,~H)),l.arraySet(C.pending_buf,C.window,U,H,C.pending),C.pending+=H}(i,k,O,!0)}j._tr_init=function(i){N||(function(){var k,O,D,C,U,H=new Array(h+1);for(C=D=0;C<w-1;C++)for(P[C]=D,k=0;k<1<<E[C];k++)e[D++]=C;for(e[D-1]=C,C=U=0;C<16;C++)for(M[C]=U,k=0;k<1<<L[C];k++)T[U++]=C;for(U>>=7;C<s;C++)for(M[C]=U<<7,k=0;k<1<<L[C]-7;k++)T[256+U++]=C;for(O=0;O<=h;O++)H[O]=0;for(k=0;k<=143;)K[2*k+1]=8,k++,H[8]++;for(;k<=255;)K[2*k+1]=9,k++,H[9]++;for(;k<=279;)K[2*k+1]=7,k++,H[7]++;for(;k<=287;)K[2*k+1]=8,k++,H[8]++;for(ct(K,_+1,H),k=0;k<s;k++)b[2*k+1]=5,b[2*k]=st(k,5);J=new X(K,E,x+1,_,h),W=new X(b,L,0,s,h),Q=new X(new Array(0),I,0,m,g)}(),N=!0),i.l_desc=new B(i.dyn_ltree,J),i.d_desc=new B(i.dyn_dtree,W),i.bl_desc=new B(i.bl_tree,Q),i.bi_buf=0,i.bi_valid=0,tt(i)},j._tr_stored_block=o,j._tr_flush_block=function(i,k,O,D){var C,U,H=0;0<i.level?(i.strm.data_type===2&&(i.strm.data_type=function(G){var Y,nt=4093624447;for(Y=0;Y<=31;Y++,nt>>>=1)if(1&nt&&G.dyn_ltree[2*Y]!==0)return d;if(G.dyn_ltree[18]!==0||G.dyn_ltree[20]!==0||G.dyn_ltree[26]!==0)return a;for(Y=32;Y<x;Y++)if(G.dyn_ltree[2*Y]!==0)return a;return d}(i)),ht(i,i.l_desc),ht(i,i.d_desc),H=function(G){var Y;for(t(G,G.dyn_ltree,G.l_desc.max_code),t(G,G.dyn_dtree,G.d_desc.max_code),ht(G,G.bl_desc),Y=m-1;3<=Y&&G.bl_tree[2*Z[Y]+1]===0;Y--);return G.opt_len+=3*(Y+1)+5+5+4,Y}(i),C=i.opt_len+3+7>>>3,(U=i.static_len+3+7>>>3)<=C&&(C=U)):C=U=O+5,O+4<=C&&k!==-1?o(i,k,O,D):i.strategy===4||U===C?(V(i,2+(D?1:0),3),at(i,K,b)):(V(i,4+(D?1:0),3),function(G,Y,nt,et){var ft;for(V(G,Y-257,5),V(G,nt-1,5),V(G,et-4,4),ft=0;ft<et;ft++)V(G,G.bl_tree[2*Z[ft]+1],3);p(G,G.dyn_ltree,Y-1),p(G,G.dyn_dtree,nt-1)}(i,i.l_desc.max_code+1,i.d_desc.max_code+1,H+1),at(i,i.dyn_ltree,i.dyn_dtree)),tt(i),D&&rt(i)},j._tr_tally=function(i,k,O){return i.pending_buf[i.d_buf+2*i.last_lit]=k>>>8&255,i.pending_buf[i.d_buf+2*i.last_lit+1]=255&k,i.pending_buf[i.l_buf+i.last_lit]=255&O,i.last_lit++,k===0?i.dyn_ltree[2*O]++:(i.matches++,k--,i.dyn_ltree[2*(e[O]+x+1)]++,i.dyn_dtree[2*A(k)]++),i.last_lit===i.lit_bufsize-1},j._tr_align=function(i){V(i,2,3),$(i,v,K),function(k){k.bi_valid===16?(q(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):8<=k.bi_valid&&(k.pending_buf[k.pending++]=255&k.bi_buf,k.bi_buf>>=8,k.bi_valid-=8)}(i)}},{"../utils/common":41}],53:[function(f,R,j){R.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,R,j){(function(l){(function(d,a){if(!d.setImmediate){var u,y,w,x,_=1,s={},m=!1,n=d.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(d);h=h&&h.setTimeout?h:d,u={}.toString.call(d.process)==="[object process]"?function(z){process.nextTick(function(){g(z)})}:function(){if(d.postMessage&&!d.importScripts){var z=!0,S=d.onmessage;return d.onmessage=function(){z=!1},d.postMessage("","*"),d.onmessage=S,z}}()?(x="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",v,!1):d.attachEvent("onmessage",v),function(z){d.postMessage(x+z,"*")}):d.MessageChannel?((w=new MessageChannel).port1.onmessage=function(z){g(z.data)},function(z){w.port2.postMessage(z)}):n&&"onreadystatechange"in n.createElement("script")?(y=n.documentElement,function(z){var S=n.createElement("script");S.onreadystatechange=function(){g(z),S.onreadystatechange=null,y.removeChild(S),S=null},y.appendChild(S)}):function(z){setTimeout(g,0,z)},h.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var S=new Array(arguments.length-1),F=0;F<S.length;F++)S[F]=arguments[F+1];var E={callback:z,args:S};return s[_]=E,u(_),_++},h.clearImmediate=c}function c(z){delete s[z]}function g(z){if(m)setTimeout(g,0,z);else{var S=s[z];if(S){m=!0;try{(function(F){var E=F.callback,L=F.args;switch(L.length){case 0:E();break;case 1:E(L[0]);break;case 2:E(L[0],L[1]);break;case 3:E(L[0],L[1],L[2]);break;default:E.apply(a,L)}})(S)}finally{c(z),m=!1}}}}function v(z){z.source===d&&typeof z.data=="string"&&z.data.indexOf(x)===0&&g(+z.data.slice(x.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof jt<"u"?jt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Wt);var Qt=Wt.exports;const te=$t(Qt),ee=({to:ut,label:mt="Back",className:f="",onClick:R})=>{const j=Ft(),l=()=>{R?R():j(ut||-1)};return r.jsxs("button",{onClick:l,className:`flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors ${f}`,children:[r.jsx(Lt,{size:20}),mt]})},re=({productData:ut,templateSettings:mt,marketingElements:f,className:R=""})=>{const{name:j,price:l,specifications:d,image:a,brand:u}=ut,y=mt||{layout:"portrait",theme:"light",priceSize:36,specSize:18,textColor:"#000000",backgroundColor:"#ffffff",pricePosition:{x:50,y:20},specPosition:{x:50,y:35},imageSettings:{brightness:100,contrast:100,saturation:100,position:{x:0,y:0},scale:100,rotation:0}};return r.jsxs(r.Fragment,{children:[(f==null?void 0:f.promotionalBadge.enabled)&&r.jsx("div",{className:`absolute z-20 ${f.promotionalBadge.position==="top-left"?"top-4 left-4":f.promotionalBadge.position==="top-right"?"top-4 right-4":f.promotionalBadge.position==="bottom-left"?"bottom-4 left-4":"bottom-4 right-4"}`,children:r.jsx("div",{className:"px-3 py-1 rounded-full text-white text-sm font-bold",style:{backgroundColor:f.promotionalBadge.color},children:f.promotionalBadge.text})}),(f==null?void 0:f.discount.enabled)&&r.jsx("div",{className:"absolute top-4 left-4 z-20",children:r.jsxs("div",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[f.discount.percentage,"% OFF"]})}),(f==null?void 0:f.urgencyText.enabled)&&r.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-20",children:r.jsx("div",{className:"bg-orange-500 text-white px-4 py-1 rounded-full text-sm font-bold animate-pulse",children:f.urgencyText.text})}),(f==null?void 0:f.rating.enabled)&&r.jsx("div",{className:"absolute top-4 right-4 z-20",children:r.jsx("div",{className:"flex items-center bg-white bg-opacity-90 px-2 py-1 rounded-full",children:r.jsx("div",{className:"flex",children:[1,2,3,4,5].map(w=>r.jsx("span",{className:`text-sm ${w<=f.rating.stars?"text-yellow-400":"text-gray-300"}`,children:""},w))})})}),r.jsxs("div",{className:"absolute top-12 left-8 right-8 z-10",children:[r.jsx("div",{className:"text-center",children:r.jsx("h1",{className:"font-bold leading-tight font-inter",style:{fontSize:`${y.priceSize}px`,color:y.textColor},children:l})}),r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"font-normal leading-relaxed font-inter",style:{fontSize:`${y.specSize}px`,color:y.textColor},children:d})})]}),r.jsx("div",{className:"absolute bottom-8 left-0 right-0 h-2/3 flex items-center justify-center",children:a?r.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:r.jsx("img",{src:a,alt:j,className:"max-w-full max-h-full object-contain bg-transparent",style:{backgroundColor:"transparent",mixBlendMode:"normal",filter:`brightness(${y.imageSettings.brightness}%) contrast(${y.imageSettings.contrast}%) saturate(${y.imageSettings.saturation}%)`,transform:`scale(${y.imageSettings.scale/100}) rotate(${y.imageSettings.rotation}deg)`,transformOrigin:"center"}})}):r.jsx("div",{className:"w-64 h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ut,{className:"w-16 h-16 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm font-inter",children:"No image uploaded"})]})})}),f!=null&&f.ctaButton.enabled?r.jsx("div",{className:`absolute z-20 ${f.ctaButton.position==="top"?"top-20 left-1/2 transform -translate-x-1/2":f.ctaButton.position==="center"?"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2":"bottom-8 left-1/2 transform -translate-x-1/2"}`,children:r.jsx("button",{className:"px-6 py-3 rounded-full text-white font-bold text-sm shadow-lg hover:shadow-xl transition-all duration-300",style:{backgroundColor:f.ctaButton.color},children:f.ctaButton.text})}):r.jsx("div",{className:"absolute bottom-8 right-8 z-10",children:r.jsx("div",{className:"w-16 h-8 bg-red-600 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-0 h-0 border-l-4 border-l-white border-t-2 border-t-transparent border-b-2 border-b-transparent ml-1"})})})]})},Dt={name:"Dell Latitude 1030",price:"Tsh 400,000/-",specifications:"Dell Latitude 1030 | 13 inch | Core i7 8th | Ram 16GB | Storage 256GB",image:"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400&h=400&fit=crop&crop=center",brand:"Dell",description:"Professional laptop for business and productivity",features:["High Performance","Long Battery Life","Premium Build"]},Pt={layout:"portrait",theme:"light",priceSize:36,specSize:18,textColor:"#000000",backgroundColor:"#ffffff",pricePosition:{x:50,y:20},specPosition:{x:50,y:35},imageSettings:{brightness:100,contrast:100,saturation:100,position:{x:0,y:0},scale:100,rotation:0}},ne=(ut,mt)=>{const f=ut.toLowerCase(),R=mt.toLowerCase();return f.includes("iphone")||f.includes("phone")?"https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400&h=400&fit=crop&crop=center":f.includes("laptop")||f.includes("computer")||R.includes("dell")||R.includes("hp")||R.includes("lenovo")?"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400&h=400&fit=crop&crop=center":f.includes("tablet")||f.includes("ipad")?"https://images.unsplash.com/photo-1544244015-0df4b3ffc6b0?w=400&h=400&fit=crop&crop=center":f.includes("headphone")||f.includes("earphone")||f.includes("airpod")?"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=400&fit=crop&crop=center":f.includes("watch")||f.includes("smartwatch")?"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=400&fit=crop&crop=center":"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=400&h=400&fit=crop&crop=center"},he=()=>{const ut=Ft(),mt=dt.useRef(null),f=dt.useRef(null),[R,j]=dt.useState(Dt),[l,d]=dt.useState(Pt),[a,u]=dt.useState(!1),[y,w]=dt.useState(!1),[x,_]=dt.useState("content"),[s,m]=dt.useState([]),[n,h]=dt.useState(!1),[c,g]=dt.useState(""),[v,z]=dt.useState([]),[S,F]=dt.useState(!1),[E,L]=dt.useState({format:"PNG",quality:90,size:{width:1200,height:630,name:"Facebook"},filename:"product_ad",includeMetadata:!1}),[I,Z]=dt.useState({platform:"facebook",hashtags:["#technology","#laptop","#deals","#tanzania"],caption:"Check out this amazing deal! ",contactInfo:{phone:"+255 123 456 789",whatsapp:"+255 123 456 789",email:"info@mtaasisi.com",website:"www.mtaasisi.com"},autoOptimize:!0}),[K,b]=dt.useState({ctaButton:{text:"Call Now",color:"#ef4444",position:"bottom",enabled:!1},promotionalBadge:{text:"SALE",color:"#ef4444",position:"top-right",enabled:!1},urgencyText:{text:"Limited Time Offer!",enabled:!1},rating:{stars:5,enabled:!1},discount:{percentage:20,enabled:!1}}),T=(t,p)=>{j(N=>{const o={...N,[t]:p};if((t==="name"||t==="brand")&&!N.image){const i=t==="name"?p:N.name,k=t==="brand"?p:N.brand;o.image=ne(i,k)}return o})},e=t=>new Promise(p=>{const N=new Image;N.onload=()=>{const o=document.createElement("canvas"),i=o.getContext("2d");if(!i)return p(k);o.width=N.width,o.height=N.height,i.drawImage(N,0,0);const k=i.getImageData(0,0,o.width,o.height),O=k.data;for(let D=0;D<O.length;D+=4){const C=O[D],U=O[D+1],H=O[D+2];O[D+3],C>240&&U>240&&H>240&&(O[D+3]=0)}i.putImageData(k,0,0),p(o.toDataURL("image/png"))},N.src=t}),P=async t=>{var N;const p=(N=t.target.files)==null?void 0:N[0];if(p){const o=new FileReader;o.onload=async i=>{var O;const k=(O=i.target)==null?void 0:O.result;try{const D=await e(k);j(C=>({...C,image:D}))}catch(D){console.error("Background removal failed:",D),j(C=>({...C,image:k}))}},o.readAsDataURL(p)}},J=async()=>{if(f.current){w(!0);try{const p=(await Bt(f.current,{scale:2,backgroundColor:"#ffffff",useCORS:!0,allowTaint:!0,width:1080,height:1350})).toDataURL("image/png"),N=new Kt({orientation:"portrait",unit:"px",format:[1080,1350]});N.addImage(p,"PNG",0,0,1080,1350),N.save(`${R.name.replace(/\s+/g,"_")}_advertisement.pdf`)}catch(t){console.error("Error exporting PDF:",t),alert("Failed to export PDF. Please try again.")}finally{w(!1)}}},W=async()=>{if(f.current){w(!0);try{const t=await Bt(f.current,{scale:2,backgroundColor:"#ffffff",useCORS:!0,allowTaint:!0,width:1080,height:1350}),p=document.createElement("a");p.download=`${R.name.replace(/\s+/g,"_")}_advertisement.png`,p.href=t.toDataURL(),p.click()}catch(t){console.error("Error exporting PNG:",t),alert("Failed to export PNG. Please try again.")}finally{w(!1)}}},Q=()=>{h(!0)},M=()=>{if(!c.trim())return;const t={id:Date.now().toString(),name:c,productData:{...R},templateSettings:{...l},createdAt:new Date().toISOString(),thumbnail:R.image||""};m(p=>[...p,t]),h(!1),g(""),localStorage.setItem("savedTemplates",JSON.stringify([...s,t]))},X=t=>{j(t.productData),d(t.templateSettings)},B=t=>{const p=s.filter(N=>N.id!==t);m(p),localStorage.setItem("savedTemplates",JSON.stringify(p))};Ht.useEffect(()=>{const t=localStorage.getItem("savedTemplates");t&&m(JSON.parse(t))},[]);const A=t=>{var o;const p=(o=t.target.files)==null?void 0:o[0];if(!p)return;const N=new FileReader;N.onload=i=>{var C;const O=((C=i.target)==null?void 0:C.result).split(`
`);O[0].split(",").map(U=>U.trim());const D=[];for(let U=1;U<O.length;U++)if(O[U].trim()){const H=O[U].split(",").map(Y=>Y.trim()),G={name:H[0]||"",price:H[1]||"",specifications:H[2]||"",brand:H[3]||"",image:H[4]||"",description:H[5]||""};D.push(G)}z(D)},N.readAsText(p)},q=async()=>{if(v.length===0)return;F(!0);const t=new te;try{for(let o=0;o<v.length;o++){const i=v[o];if(j({...i,image:i.image||null}),await new Promise(k=>setTimeout(k,100)),f.current){const k=await Bt(f.current,{scale:2,backgroundColor:l.backgroundColor,useCORS:!0,allowTaint:!0,width:E.size.width,height:E.size.height}),O=`${E.filename}_${i.name.replace(/\s+/g,"_")}_${o+1}.${E.format.toLowerCase()}`;t.file(O,k.toDataURL(`image/${E.format.toLowerCase()}`,E.quality/100))}}const p=await t.generateAsync({type:"blob"}),N=document.createElement("a");N.href=URL.createObjectURL(p),N.download=`batch_ads_${new Date().toISOString().split("T")[0]}.zip`,N.click()}catch(p){console.error("Batch processing failed:",p),alert("Batch processing failed. Please try again.")}finally{F(!1)}},V=()=>{const t=`Name,Price,Specifications,Brand,Image URL,Description
iPhone 14 Pro,Tsh 1,200,000/-,iPhone 14 Pro | 6.1 inch | A16 Bionic | 128GB,Apple,https://example.com/image.jpg,Latest iPhone model
Samsung Galaxy S23,Tsh 800,000/-,Samsung Galaxy S23 | 6.1 inch | Snapdragon 8 Gen 2,Samsung,https://example.com/image2.jpg,Flagship Android phone`,p=new Blob([t],{type:"text/csv"}),N=document.createElement("a");N.href=URL.createObjectURL(p),N.download="product_template.csv",N.click()},$=()=>{const{productData:t,socialMediaSettings:p}={productData:t,socialMediaSettings:p},N=p.hashtags.join(" ");let o=`${p.caption}

`;return o+=` ${t.name}
`,o+=` ${t.price}
`,o+=` ${t.specifications}

`,K.discount.enabled&&(o+=` ${K.discount.percentage}% OFF!
`),K.urgencyText.enabled&&(o+=` ${K.urgencyText.text}

`),o+=` ${p.contactInfo.phone}
`,o+=` WhatsApp: ${p.contactInfo.whatsapp}
`,o+=` ${p.contactInfo.website}

`,o+=N,o},st=t=>{navigator.clipboard.writeText(t).then(()=>{alert("Copied to clipboard!")})},ct=()=>{const t=$(),p=`https://wa.me/${I.contactInfo.whatsapp.replace(/[^0-9]/g,"")}?text=${encodeURIComponent(t)}`;window.open(p,"_blank")},tt=t=>{const N={facebook:{size:{width:1200,height:630,name:"Facebook Post"},hashtags:["#facebook","#deals","#shopping","#technology","#lifestyle"],caption:"Check out this amazing deal! Click for more details "},twitter:{size:{width:1200,height:675,name:"Twitter Card"},hashtags:["#twitter","#deals","#tech","#shopping"],caption:" Hot deal alert! Limited time offer "},linkedin:{size:{width:1200,height:627,name:"LinkedIn Post"},hashtags:["#linkedin","#business","#technology","#professional"],caption:"Professional grade technology at unbeatable prices "},whatsapp:{size:{width:1080,height:1350,name:"WhatsApp Status"},hashtags:["#whatsapp","#deals","#local","#tanzania"],caption:" Check out this deal! Contact me for more info"},tiktok:{size:{width:1080,height:1920,name:"TikTok Video"},hashtags:["#tiktok","#fyp","#viral","#deals","#shopping"],caption:"POV: You found the perfect deal "}}[t];N&&(L(o=>({...o,size:N.size})),Z(o=>({...o,platform:t,hashtags:N.hashtags,caption:N.caption})))},rt=[{name:"Dell Latitude 1030",price:"Tsh 400,000/-",specifications:"Dell Latitude 1030 | 13 inch | Core i7 8th | Ram 16GB | Storage 256GB",brand:"Dell",image:"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400&h=400&fit=crop&crop=center"},{name:"iPhone 14 Pro",price:"Tsh 1,200,000/-",specifications:"iPhone 14 Pro | 6.1 inch | A16 Bionic | 128GB | 48MP Camera",brand:"Apple",image:"https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400&h=400&fit=crop&crop=center"},{name:"Samsung Galaxy S23",price:"Tsh 800,000/-",specifications:"Samsung Galaxy S23 | 6.1 inch | Snapdragon 8 Gen 2 | 128GB | 50MP Camera",brand:"Samsung",image:"https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400&h=400&fit=crop&crop=center"},{name:"MacBook Air M2",price:"Tsh 1,800,000/-",specifications:"MacBook Air M2 | 13 inch | M2 Chip | 8GB RAM | 256GB SSD",brand:"Apple",image:"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400&h=400&fit=crop&crop=center"}],lt=async t=>{try{const p=await e(t.image);j({...t,image:p})}catch(p){console.error("Background removal failed for preset:",p),j(t)}},it=()=>{j(Dt),d(Pt)},at=(t,p)=>{d(N=>({...N,[t]:p}))},ht=()=>{switch(l.layout){case"landscape":return{width:500,height:400};case"square":return{width:400,height:400};default:return{width:400,height:500}}};return r.jsxs("div",{className:"min-h-screen p-4",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx(ee,{onClick:()=>ut(-1)}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Ad Generator"}),r.jsx("p",{className:"text-gray-600",children:"Create professional product advertisements"})]})]}),r.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg w-fit",children:[r.jsx("button",{onClick:()=>_("content"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${x==="content"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Content"}),r.jsx("button",{onClick:()=>_("design"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${x==="design"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Design"}),r.jsx("button",{onClick:()=>_("templates"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${x==="templates"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Templates"}),r.jsx("button",{onClick:()=>_("batch"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${x==="batch"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Batch"}),r.jsx("button",{onClick:()=>_("social"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${x==="social"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Social"}),r.jsx("button",{onClick:()=>_("marketing"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${x==="marketing"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Marketing"}),r.jsx("button",{onClick:()=>_("export"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${x==="export"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Export"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-6",children:[x==="content"&&r.jsxs(r.Fragment,{children:[r.jsxs(pt,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Ut,{className:"w-5 h-5 text-green-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Templates"})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:rt.map((t,p)=>r.jsxs(bt,{onClick:()=>lt(t),className:"text-left p-3 text-sm",children:[r.jsx("div",{className:"font-medium",children:t.name}),r.jsx("div",{className:"text-xs text-gray-600",children:t.brand})]},p))})]}),r.jsxs(pt,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Nt,{className:"w-6 h-6 text-blue-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Product Details"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name"}),r.jsx("input",{type:"text",value:R.name,onChange:t=>T("name",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter product name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),r.jsx("input",{type:"text",value:R.brand,onChange:t=>T("brand",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter brand name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (TSH)"}),r.jsx("input",{type:"text",value:R.price,onChange:t=>T("price",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Tsh 400,000/-"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specifications"}),r.jsx("textarea",{value:R.specifications,onChange:t=>T("specifications",t.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter product specifications separated by |"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Image"}),r.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Background will be automatically removed from uploaded images"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[R.image?r.jsxs("div",{className:"space-y-3",children:[r.jsx("img",{src:R.image,alt:"Product preview",className:"w-32 h-32 object-cover rounded-lg mx-auto"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Image uploaded successfully"}),r.jsxs(bt,{onClick:()=>{var t;return(t=mt.current)==null?void 0:t.click()},className:"text-sm",children:[r.jsx(It,{className:"w-4 h-4 mr-2"}),"Change Image"]})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsx(It,{className:"w-12 h-12 text-gray-400 mx-auto"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600",children:"Click to upload product image"}),r.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB"})]}),r.jsxs(bt,{onClick:()=>{var t;return(t=mt.current)==null?void 0:t.click()},className:"text-sm",children:[r.jsx(It,{className:"w-4 h-4 mr-2"}),"Upload Image"]})]}),r.jsx("input",{ref:mt,type:"file",accept:"image/*",onChange:P,className:"hidden"})]})]})]})]}),r.jsxs(pt,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(St,{className:"w-5 h-5 text-green-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Actions"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs(bt,{onClick:()=>u(!a),className:"flex items-center justify-center gap-2",children:[r.jsx(Vt,{className:"w-4 h-4"}),a?"Edit Mode":"Preview"]}),r.jsxs(bt,{onClick:it,className:"flex items-center justify-center gap-2",children:[r.jsx(Lt,{className:"w-4 h-4"}),"Reset"]}),r.jsxs(bt,{onClick:Q,className:"flex items-center justify-center gap-2",children:[r.jsx(St,{className:"w-4 h-4"}),"Save Template"]}),r.jsxs(bt,{onClick:J,disabled:y,className:"flex items-center justify-center gap-2",children:[r.jsx(Ct,{className:"w-4 h-4"}),y?"Exporting...":"Export PDF"]}),r.jsxs(bt,{onClick:W,disabled:y,className:"flex items-center justify-center gap-2",children:[r.jsx(Ct,{className:"w-4 h-4"}),y?"Exporting...":"Export PNG"]})]})]})]}),x==="design"&&r.jsxs(r.Fragment,{children:[r.jsxs(pt,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Nt,{className:"w-5 h-5 text-purple-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Layout & Theme"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Layout"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["portrait","landscape","square"].map(t=>r.jsxs("button",{onClick:()=>at("layout",t),className:`p-3 rounded-lg border-2 transition-colors ${l.layout===t?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:`mx-auto mb-1 ${t==="portrait"?"w-3 h-4":t==="landscape"?"w-4 h-3":"w-3 h-3"} bg-gray-400 rounded`}),r.jsx("span",{className:"text-xs capitalize",children:t})]},t))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:["light","dark","minimal","bold"].map(t=>r.jsx("button",{onClick:()=>at("theme",t),className:`p-2 rounded-lg border-2 transition-colors capitalize ${l.theme===t?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:t},t))})]})]})]}),r.jsxs(pt,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Nt,{className:"w-5 h-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Text Settings"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Price Size: ",l.priceSize,"px"]}),r.jsx("input",{type:"range",min:"24",max:"72",value:l.priceSize,onChange:t=>at("priceSize",parseInt(t.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Specifications Size: ",l.specSize,"px"]}),r.jsx("input",{type:"range",min:"12",max:"32",value:l.specSize,onChange:t=>at("specSize",parseInt(t.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Color"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:l.textColor,onChange:t=>at("textColor",t.target.value),className:"w-12 h-10 rounded border border-gray-300 cursor-pointer"}),r.jsx("input",{type:"text",value:l.textColor,onChange:t=>at("textColor",t.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"#000000"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:l.backgroundColor,onChange:t=>at("backgroundColor",t.target.value),className:"w-12 h-10 rounded border border-gray-300 cursor-pointer"}),r.jsx("input",{type:"text",value:l.backgroundColor,onChange:t=>at("backgroundColor",t.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"#ffffff"})]})]})]})]}),r.jsxs(pt,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Nt,{className:"w-5 h-5 text-green-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Image Settings"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Brightness: ",l.imageSettings.brightness,"%"]}),r.jsx("input",{type:"range",min:"0",max:"200",value:l.imageSettings.brightness,onChange:t=>at("imageSettings",{...l.imageSettings,brightness:parseInt(t.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Contrast: ",l.imageSettings.contrast,"%"]}),r.jsx("input",{type:"range",min:"0",max:"200",value:l.imageSettings.contrast,onChange:t=>at("imageSettings",{...l.imageSettings,contrast:parseInt(t.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Saturation: ",l.imageSettings.saturation,"%"]}),r.jsx("input",{type:"range",min:"0",max:"200",value:l.imageSettings.saturation,onChange:t=>at("imageSettings",{...l.imageSettings,saturation:parseInt(t.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Scale: ",l.imageSettings.scale,"%"]}),r.jsx("input",{type:"range",min:"50",max:"150",value:l.imageSettings.scale,onChange:t=>at("imageSettings",{...l.imageSettings,scale:parseInt(t.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rotation: ",l.imageSettings.rotation,""]}),r.jsx("input",{type:"range",min:"-180",max:"180",value:l.imageSettings.rotation,onChange:t=>at("imageSettings",{...l.imageSettings,rotation:parseInt(t.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]})]})]}),x==="templates"&&r.jsx(r.Fragment,{children:r.jsxs(pt,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(St,{className:"w-5 h-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Saved Templates"})]}),s.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(St,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),r.jsx("p",{children:"No saved templates yet"}),r.jsx("p",{className:"text-sm",children:"Create and save your first template!"})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s.map(t=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:t.name}),r.jsx("p",{className:"text-sm text-gray-500",children:new Date(t.createdAt).toLocaleDateString()})]}),r.jsx("button",{onClick:()=>B(t.id),className:"text-red-500 hover:text-red-700 text-sm",children:"Delete"})]}),t.thumbnail&&r.jsx("div",{className:"w-full h-20 bg-gray-100 rounded mb-3 overflow-hidden",children:r.jsx("img",{src:t.thumbnail,alt:t.name,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>X(t),className:"flex-1 px-3 py-2 bg-blue-500 text-white rounded-md text-sm hover:bg-blue-600 transition-colors",children:"Load"}),r.jsx("button",{onClick:()=>{j(t.productData),d(t.templateSettings),_("design")},className:"flex-1 px-3 py-2 bg-gray-500 text-white rounded-md text-sm hover:bg-gray-600 transition-colors",children:"Edit"})]})]},t.id))})]})}),x==="batch"&&r.jsx(r.Fragment,{children:r.jsxs(pt,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Ot,{className:"w-5 h-5 text-blue-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Batch Processing"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx(Ot,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"Upload a CSV file with product data"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Format: Name, Price, Specifications, Brand, Image URL, Description"}),r.jsx("input",{type:"file",accept:".csv",onChange:A,className:"hidden",id:"csv-upload"}),r.jsx("label",{htmlFor:"csv-upload",className:"inline-block px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer transition-colors",children:"Choose CSV File"})]})]}),v.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h4",{className:"font-medium text-gray-900",children:[v.length," Products Loaded"]}),r.jsx("button",{onClick:()=>z([]),className:"text-red-500 hover:text-red-700 text-sm",children:"Clear"})]}),r.jsxs("div",{className:"max-h-40 overflow-y-auto space-y-2",children:[v.slice(0,5).map((t,p)=>r.jsxs("div",{className:"p-2 bg-gray-50 rounded text-sm",children:[r.jsx("div",{className:"font-medium",children:t.name}),r.jsx("div",{className:"text-gray-600",children:t.price})]},p)),v.length>5&&r.jsxs("div",{className:"text-center text-gray-500 text-sm",children:["... and ",v.length-5," more"]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:V,className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Ct,{className:"w-4 h-4"}),"Download Template"]}),r.jsx("button",{onClick:q,disabled:v.length===0||S,className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:S?r.jsxs(r.Fragment,{children:[r.jsx(Rt,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Rt,{className:"w-4 h-4"}),"Generate All"]})})]})]})]})}),x==="social"&&r.jsx(r.Fragment,{children:r.jsxs(pt,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Yt,{className:"w-5 h-5 text-purple-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Social Media"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{key:"facebook",name:"Facebook",icon:""},{key:"twitter",name:"Twitter",icon:""},{key:"linkedin",name:"LinkedIn",icon:""},{key:"whatsapp",name:"WhatsApp",icon:""},{key:"tiktok",name:"TikTok",icon:""}].map(t=>r.jsxs("button",{onClick:()=>tt(t.key),className:`p-3 rounded-lg border-2 transition-colors text-center ${I.platform===t.key?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:"text-lg mb-1",children:t.icon}),r.jsx("div",{className:"text-xs font-medium",children:t.name})]},t.key))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caption"}),r.jsx("textarea",{value:I.caption,onChange:t=>Z(p=>({...p,caption:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3,placeholder:"Write your caption here..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hashtags"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:I.hashtags.map((t,p)=>r.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:[t,r.jsx("button",{onClick:()=>Z(N=>({...N,hashtags:N.hashtags.filter((o,i)=>i!==p)})),className:"ml-1 text-purple-500 hover:text-purple-700",children:""})]},p))}),r.jsx("input",{type:"text",placeholder:"Add hashtag and press Enter",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",onKeyPress:t=>{if(t.key==="Enter"){let p=t.currentTarget.value.trim();p&&!p.startsWith("#")&&(p="#"+p),p&&!I.hashtags.includes(p)&&(Z(N=>({...N,hashtags:[...N.hashtags,p]})),t.currentTarget.value="")}}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("input",{type:"text",placeholder:"Phone",value:I.contactInfo.phone,onChange:t=>Z(p=>({...p,contactInfo:{...p.contactInfo,phone:t.target.value}})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),r.jsx("input",{type:"text",placeholder:"WhatsApp",value:I.contactInfo.whatsapp,onChange:t=>Z(p=>({...p,contactInfo:{...p.contactInfo,whatsapp:t.target.value}})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),r.jsx("input",{type:"email",placeholder:"Email",value:I.contactInfo.email,onChange:t=>Z(p=>({...p,contactInfo:{...p.contactInfo,email:t.target.value}})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),r.jsx("input",{type:"text",placeholder:"Website",value:I.contactInfo.website,onChange:t=>Z(p=>({...p,contactInfo:{...p.contactInfo,website:t.target.value}})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>st($()),className:"flex-1 px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors flex items-center justify-center gap-2",children:[r.jsx(qt,{className:"w-4 h-4"}),"Copy Caption"]}),r.jsxs("button",{onClick:ct,className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2",children:[r.jsx(Xt,{className:"w-4 h-4"}),"Share WhatsApp"]})]})]})]})}),x==="marketing"&&r.jsx(r.Fragment,{children:r.jsxs(pt,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Jt,{className:"w-5 h-5 text-orange-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Marketing Elements"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Call-to-Action Button"}),r.jsx("input",{type:"checkbox",checked:K.ctaButton.enabled,onChange:t=>b(p=>({...p,ctaButton:{...p.ctaButton,enabled:t.target.checked}})),className:"rounded"})]}),K.ctaButton.enabled&&r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("input",{type:"text",placeholder:"Button Text",value:K.ctaButton.text,onChange:t=>b(p=>({...p,ctaButton:{...p.ctaButton,text:t.target.value}})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),r.jsxs("select",{value:K.ctaButton.position,onChange:t=>b(p=>({...p,ctaButton:{...p.ctaButton,position:t.target.value}})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"top",children:"Top"}),r.jsx("option",{value:"center",children:"Center"}),r.jsx("option",{value:"bottom",children:"Bottom"})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Promotional Badge"}),r.jsx("input",{type:"checkbox",checked:K.promotionalBadge.enabled,onChange:t=>b(p=>({...p,promotionalBadge:{...p.promotionalBadge,enabled:t.target.checked}})),className:"rounded"})]}),K.promotionalBadge.enabled&&r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("input",{type:"text",placeholder:"Badge Text",value:K.promotionalBadge.text,onChange:t=>b(p=>({...p,promotionalBadge:{...p.promotionalBadge,text:t.target.value}})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),r.jsxs("select",{value:K.promotionalBadge.position,onChange:t=>b(p=>({...p,promotionalBadge:{...p.promotionalBadge,position:t.target.value}})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[r.jsx("option",{value:"top-left",children:"Top Left"}),r.jsx("option",{value:"top-right",children:"Top Right"}),r.jsx("option",{value:"bottom-left",children:"Bottom Left"}),r.jsx("option",{value:"bottom-right",children:"Bottom Right"})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Urgency Text"}),r.jsx("input",{type:"checkbox",checked:K.urgencyText.enabled,onChange:t=>b(p=>({...p,urgencyText:{...p.urgencyText,enabled:t.target.checked}})),className:"rounded"})]}),K.urgencyText.enabled&&r.jsx("input",{type:"text",placeholder:"Limited Time Offer!",value:K.urgencyText.text,onChange:t=>b(p=>({...p,urgencyText:{...p.urgencyText,text:t.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Star Rating"}),r.jsx("input",{type:"checkbox",checked:K.rating.enabled,onChange:t=>b(p=>({...p,rating:{...p.rating,enabled:t.target.checked}})),className:"rounded"})]}),K.rating.enabled&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Rating:"}),[1,2,3,4,5].map(t=>r.jsx("button",{onClick:()=>b(p=>({...p,rating:{...p.rating,stars:t}})),className:`text-2xl ${t<=K.rating.stars?"text-yellow-400":"text-gray-300"}`,children:""},t))]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Discount Badge"}),r.jsx("input",{type:"checkbox",checked:K.discount.enabled,onChange:t=>b(p=>({...p,discount:{...p.discount,enabled:t.target.checked}})),className:"rounded"})]}),K.discount.enabled&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Discount:"}),r.jsx("input",{type:"number",min:"1",max:"99",value:K.discount.percentage,onChange:t=>b(p=>({...p,discount:{...p.discount,percentage:parseInt(t.target.value)}})),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),r.jsx("span",{className:"text-sm text-gray-600",children:"% OFF"})]})]})]})]})}),x==="export"&&r.jsx(r.Fragment,{children:r.jsxs(pt,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Ct,{className:"w-5 h-5 text-green-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Export Settings"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Export Format"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:["PNG","PDF","JPG","SVG"].map(t=>r.jsx("button",{onClick:()=>L(p=>({...p,format:t})),className:`p-3 rounded-lg border-2 transition-colors ${E.format===t?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:t},t))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Size Presets"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{name:"Facebook",width:1200,height:630},{name:"Twitter",width:1200,height:675},{name:"LinkedIn",width:1200,height:627},{name:"Custom",width:1080,height:1350}].map(t=>r.jsxs("button",{onClick:()=>L(p=>({...p,size:{...t,name:t.name}})),className:`p-3 rounded-lg border-2 transition-colors text-left ${E.size.name===t.name?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:"font-medium text-sm",children:t.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[t.width,"x",t.height]})]},t.name))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Quality: ",E.quality,"%"]}),r.jsx("input",{type:"range",min:"10",max:"100",value:E.quality,onChange:t=>L(p=>({...p,quality:parseInt(t.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filename"}),r.jsx("input",{type:"text",value:E.filename,onChange:t=>L(p=>({...p,filename:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"product_ad"})]})]})]})})]}),r.jsx("div",{className:"space-y-6",children:r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{ref:f,className:"relative overflow-hidden",style:{width:ht().width,height:ht().height,backgroundColor:l.backgroundColor},children:r.jsx(re,{productData:R,templateSettings:l,marketingElements:K})})})})]})]}),n&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-md mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Save Template"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Name"}),r.jsx("input",{type:"text",value:c,onChange:t=>g(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter template name",autoFocus:!0})]}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:M,disabled:!c.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save"})]})]})]})})]})};export{he as default};
