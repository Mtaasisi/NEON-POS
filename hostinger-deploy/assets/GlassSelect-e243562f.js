import{j as e}from"./index-61458a34.js";import{r as u,R as D}from"./vendor-36d2c7c1.js";import{c as r}from"./utils-95f4031a.js";import{X as M,e as I,b as O}from"./ui-28e30067.js";const F=u.forwardRef(({className:k,label:g,error:t,helperText:m,options:b=[],placeholder:f,variant:p="default",size:l="md",onChange:n,clearable:R=!1,loading:o=!1,success:c=!1,disabled:x,required:h,value:v,...E},G)=>{const y=u.useId(),j=u.useId(),N=u.useId(),w=D.useMemo(()=>{const s={},i=[];return b.forEach(a=>{a.group?(s[a.group]||(s[a.group]=[]),s[a.group].push(a)):i.push(a)}),{groups:s,ungrouped:i}},[b]),S=r("w-full transition-all duration-200 ease-in-out","focus:outline-none focus:ring-2 focus:ring-offset-0","border rounded-lg backdrop-blur-sm","appearance-none cursor-pointer","font-medium",{"py-2 pl-3 pr-10 text-sm":l==="sm","py-3 pl-4 pr-11 text-sm":l==="md","py-4 pl-5 pr-12 text-base":l==="lg"},{"bg-white/80 hover:bg-white/90":p==="default","bg-gray-50/80 hover:bg-gray-100/80":p==="filled","bg-transparent hover:bg-white/5 border-2":p==="outlined"},{"border-red-300 focus:border-red-500 focus:ring-red-500/50 text-red-900":t,"border-green-300 focus:border-green-500 focus:ring-green-500/50":c&&!t,"border-gray-300 focus:border-blue-500 focus:ring-blue-500/50 text-gray-900":!t&&!c,"opacity-60 cursor-not-allowed bg-gray-100/50":x||o},k),d={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[l],A=s=>{n&&n(s.target.value)},B=s=>{s.preventDefault(),s.stopPropagation(),n&&n("")},C=R&&v&&!x&&!o;return e.jsxs("div",{className:"w-full",children:[g&&e.jsxs("label",{htmlFor:y,className:r("block text-sm font-semibold mb-2 transition-colors",t?"text-red-700":c?"text-green-700":"text-gray-700"),children:[g,h&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("select",{ref:G,id:y,className:S,onChange:A,disabled:x||o,required:h,value:v,"aria-invalid":t?"true":"false","aria-describedby":r(t&&j,m&&!t&&N),...E,children:[f&&e.jsx("option",{value:"",disabled:!0,hidden:!0,children:f}),w.ungrouped.map(s=>e.jsx("option",{value:s.value,disabled:s.disabled,className:"py-2",children:s.label},s.value)),Object.entries(w.groups).map(([s,i])=>e.jsx("optgroup",{label:s,children:i.map(a=>e.jsx("option",{value:a.value,disabled:a.disabled,className:"py-2",children:a.label},a.value))},s))]}),e.jsxs("div",{className:r("absolute top-1/2 -translate-y-1/2 flex items-center gap-1",l==="sm"?"right-2":l==="md"?"right-3":"right-4"),children:[C&&e.jsx("button",{type:"button",onClick:B,className:r("p-0.5 rounded-full hover:bg-gray-200/80 transition-colors pointer-events-auto","focus:outline-none focus:ring-2 focus:ring-blue-500/50"),"aria-label":"Clear selection",tabIndex:-1,children:e.jsx(M,{className:r(d,"text-gray-500 hover:text-gray-700")})}),t&&e.jsx(I,{className:r(d,"text-red-500 pointer-events-none")}),o?e.jsx("div",{className:r(d,"pointer-events-none"),children:e.jsxs("svg",{className:"animate-spin text-blue-500",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):!C&&e.jsx(O,{className:r(d,"pointer-events-none transition-colors",t?"text-red-400":c?"text-green-400":"text-gray-400 group-hover:text-gray-600")})]})]}),t&&e.jsxs("p",{id:j,className:"mt-1.5 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(I,{className:"w-4 h-4"}),t]}),m&&!t&&e.jsx("p",{id:N,className:"mt-1.5 text-sm text-gray-500",children:m})]})});F.displayName="GlassSelect";export{F as G};
